(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(35),__webpack_require__(24),__webpack_require__(49),__webpack_require__(6),__webpack_require__(50),__webpack_require__(63),__webpack_require__(12),__webpack_require__(26),__webpack_require__(28),__webpack_require__(33),__webpack_require__(30),__webpack_require__(39),__webpack_require__(25),__webpack_require__(603),__webpack_require__(17),__webpack_require__(10),__webpack_require__(15),__webpack_require__(34),__webpack_require__(29);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),actionTypes={DEREGISTER_FIELD:"DEREGISTER_FIELD",INIT_FORM_STATE:"INIT_FORM_STATE",PUSH_TO_FIELD_ARRAY:"PUSH_TO_FIELD_ARRAY",REMOVE_FROM_FIELD_ARRAY:"REMOVE_FROM_FIELD_ARRAY",SET_FIELD_ERROR:"SET_FIELD_ERROR",SET_FIELD_TOUCHED:"SET_FIELD_TOUCHED",START_SUBMIT:"START_SUBMIT",STOP_SUBMIT:"STOP_SUBMIT",UPDATE_FIELD:"UPDATE_FIELD",UPDATE_FIELDS:"UPDATE_FIELDS",RESET_FIELDS_IS_DONE:"RESET_FIELDS_IS_DONE"},initFormState=function(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref$formStatus=_ref.formStatus,formStatus=void 0===_ref$formStatus?{}:_ref$formStatus,_ref$fieldStatus=_ref.fieldStatus,fieldStatus=void 0===_ref$fieldStatus?{}:_ref$fieldStatus,_ref$fieldValues=_ref.fieldValues,fieldValues=void 0===_ref$fieldValues?{}:_ref$fieldValues,_ref$formErrors=_ref.formErrors,formErrors=void 0===_ref$formErrors?{}:_ref$formErrors;return{type:actionTypes.INIT_FORM_STATE,formStatus:formStatus,fieldStatus:fieldStatus,fieldValues:fieldValues,formErrors:formErrors}},updateField=function(value,customProps){return{type:actionTypes.UPDATE_FIELD,value:value,customProps:customProps}},actions_updateFields=function(fieldValues){return{type:actionTypes.UPDATE_FIELDS,fieldValues:fieldValues}},setFieldTouched=function(touched){return{type:actionTypes.SET_FIELD_TOUCHED,touched:touched}},startSubmit=function(){return{type:actionTypes.START_SUBMIT}},stopSubmit=function(formErrors){return{type:actionTypes.STOP_SUBMIT,formErrors:formErrors}},to_path=(__webpack_require__(86),__webpack_require__(59),__webpack_require__(141),function(key){if(null==key||!key.length)return[];if("string"!=typeof key)throw new Error("toPath() expects a string");return key.split(/[.[\]]+/).filter(Boolean)}),get_field=function(state,field){var path=to_path(field),length=path.length;if(length){for(var result=state,i=0;i<length&&result;++i)result=result[path[i]];return result}};__webpack_require__(69),__webpack_require__(252);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var setFieldWithPath=function(state,value,path,pathIndex){if(pathIndex>=path.length)return value;var first=path[pathIndex],firstState=state&&(Array.isArray(state)?state[+first]:state[first]),next=setFieldWithPath(firstState,value,path,pathIndex+1);if(!state){if(isNaN(first))return _defineProperty({},first,next);var initialized=[];return initialized[parseInt(first,10)]=next,initialized}if(Array.isArray(state)){var copy=state.slice();return copy[parseInt(first,10)]=next,copy}return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({},state,_defineProperty({},first,next))},set_field=function(state,field,value){return setFieldWithPath(state,value,to_path(field),0)},initialState={},field_values=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case actionTypes.INIT_FORM_STATE:return action.fieldValues||{};case actionTypes.UPDATE_FIELDS:return action.fieldValues;case actionTypes.UPDATE_FIELD:return set_field(state,action.field,action.value);case actionTypes.PUSH_TO_FIELD_ARRAY:var originalArray=get_field(state,action.fieldArray)||[],nextArray=originalArray.slice();return nextArray.push(action.payload),set_field(state,action.fieldArray,nextArray);case actionTypes.REMOVE_FROM_FIELD_ARRAY:var _originalArray=get_field(state,action.fieldArray)||[],_nextArray=_originalArray.filter(function(item,index){return index!==action.index});return set_field(state,action.fieldArray,_nextArray);case actionTypes.SET_FIELD_ERROR:return set_field(state,action.field,action.value);default:return state}},is_field=function(state,field){var path=to_path(field),length=path.length;if(!length)return!1;var i,result=state;for(i=0;i<length&&result;++i)result=result[path[i]];return!(i!==length)&&{value:result}},form_errors_initialState={},form_errors=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:form_errors_initialState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case actionTypes.INIT_FORM_STATE:return action.formErrors||{};case actionTypes.UPDATE_FIELDS:case actionTypes.START_SUBMIT:return{};case actionTypes.STOP_SUBMIT:return action.formErrors;case actionTypes.SET_FIELD_ERROR:return is_field(state,action.field)?set_field(state,action.field,void 0):state;default:return state}};function form_status_and_field_status_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function form_status_and_field_status_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?form_status_and_field_status_ownKeys(source,!0).forEach(function(key){form_status_and_field_status_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):form_status_and_field_status_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function form_status_and_field_status_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var initialFormStatus={errorCount:0,isSubmitting:!1,isValid:!0},initialFieldStatus={},form_status_and_field_status=function(){var formStatus=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialFormStatus,fieldStatus=1<arguments.length&&void 0!==arguments[1]?arguments[1]:initialFieldStatus,action=2<arguments.length?arguments[2]:void 0,errorCount=formStatus.errorCount;switch(action.type){case actionTypes.INIT_FORM_STATE:return{fieldStatus:form_status_and_field_status_objectSpread({},initialFieldStatus,{},action.fieldStatus),formStatus:form_status_and_field_status_objectSpread({},initialFormStatus,{},action.formStatus)};case actionTypes.START_SUBMIT:return{fieldStatus:fieldStatus,formStatus:form_status_and_field_status_objectSpread({},formStatus,{isSubmitting:!0})};case actionTypes.STOP_SUBMIT:return{fieldStatus:fieldStatus,formStatus:form_status_and_field_status_objectSpread({},formStatus,{isSubmitting:!1})};case actionTypes.UPDATE_FIELD:var field=get_field(fieldStatus,action.field)||{};return{fieldStatus:set_field(fieldStatus,action.field,form_status_and_field_status_objectSpread({},field,{customProps:action.customProps})),formStatus:formStatus};case actionTypes.RESET_FIELDS_IS_DONE:return{fieldStatus:fieldStatus,formStatus:form_status_and_field_status_objectSpread({},formStatus,{isResetFieldsDue:!1})};case actionTypes.UPDATE_FIELDS:return{fieldStatus:initialFieldStatus,formStatus:form_status_and_field_status_objectSpread({},initialFormStatus,{isResetFieldsDue:!0})};case actionTypes.DEREGISTER_FIELD:var _field=get_field(fieldStatus,action.field)||{};return{fieldStatus:set_field(fieldStatus,action.field,void 0),formStatus:form_status_and_field_status_objectSpread({},formStatus,{errorCount:errorCount-(_field.error?1:0)})};case actionTypes.SET_FIELD_ERROR:var _field2=get_field(fieldStatus,action.field)||{};return{fieldStatus:set_field(fieldStatus,action.field,form_status_and_field_status_objectSpread({},_field2,{error:action.error})),formStatus:form_status_and_field_status_objectSpread({},formStatus,{errorCount:errorCount+(action.error?1:0)-(_field2.error?1:0)})};case actionTypes.SET_FIELD_TOUCHED:var _field3=get_field(fieldStatus,action.field)||{};return{fieldStatus:set_field(fieldStatus,action.field,{error:_field3.error,touched:action.touched}),formStatus:formStatus};default:return{formStatus:formStatus,fieldStatus:fieldStatus}}},reducers_initialState={},reducers=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:reducers_initialState,action=1<arguments.length?arguments[1]:void 0;if(action&&actionTypes[action.type]){var _formStatusAndFieldSt=form_status_and_field_status(state.formStatus,state.fieldStatus,action),formStatus=_formStatusAndFieldSt.formStatus,fieldStatus=_formStatusAndFieldSt.fieldStatus;return formStatus.isValid=0===formStatus.errorCount,{fieldStatus:fieldStatus,fieldValues:field_values(state.fieldValues,action),formErrors:form_errors(state.formErrors,action),formStatus:formStatus}}return state};__webpack_require__(115);var focus_on_first_field_with_error=function(formApi){for(var fields=formApi.getFields(),_loop=function(i){var field=fields[i],element=field.element;if(field.error&&element){var scrollTimeout,focusAfterScroll=function(){clearTimeout(scrollTimeout),scrollTimeout=setTimeout(function(){window.removeEventListener("scroll",focusAfterScroll),element.focus&&element.focus()},100)};return focusAfterScroll(),function isElementInViewport(el){var rect=el.getBoundingClientRect();return 0<=rect.top&&0<=rect.left&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)}(element)||(window.addEventListener("scroll",focusAfterScroll),element.scrollIntoView&&element.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})),"break"}},i=0;i<fields.length&&"break"!==_loop(i);i++);};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function form_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function form_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?form_ownKeys(source,!0).forEach(function(key){form_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):form_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function form_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Context=Object(react.createContext)(),noop=function(){},useForm=function(){return Object(react.useContext)(Context)},FormResetter=function(_ref){var reset=_ref.reset,_useForm=useForm(),state=_useForm.state,dispatch=_useForm.dispatch;return Object(react.useEffect)(function(){state.formStatus.isResetFieldsDue&&(dispatch({type:actionTypes.RESET_FIELDS_IS_DONE}),reset())}),null};function Form(_ref2){var children=_ref2.children,_ref2$component=_ref2.component,component=void 0===_ref2$component?"form":_ref2$component,render=_ref2.render,initialValues=_ref2.initialValues,_ref2$onSubmit=_ref2.onSubmit,onSubmit=void 0===_ref2$onSubmit?noop:_ref2$onSubmit,_ref2$onSubmitSuccess=_ref2.onSubmitSuccess,onSubmitSuccess=void 0===_ref2$onSubmitSuccess?noop:_ref2$onSubmitSuccess,_ref2$onSubmitError=_ref2.onSubmitError,onSubmitError=void 0===_ref2$onSubmitError?focus_on_first_field_with_error:_ref2$onSubmitError,_ref2$onMount=_ref2.onMount,onMount=void 0===_ref2$onMount?noop:_ref2$onMount,_ref2$onUnmount=_ref2.onUnmount,onUnmount=void 0===_ref2$onUnmount?noop:_ref2$onUnmount,_ref2$apiRef=_ref2.apiRef,apiRef=void 0===_ref2$apiRef?Object(react.useRef)():_ref2$apiRef,_ref2$formRef=_ref2.formRef,formRef=void 0===_ref2$formRef?Object(react.useRef)():_ref2$formRef,props=_objectWithoutProperties(_ref2,["children","component","render","initialValues","onSubmit","onSubmitSuccess","onSubmitError","onMount","onUnmount","apiRef","formRef"]),fieldsRef=Object(react.useRef)([]),_useReducer2=_slicedToArray(Object(react.useReducer)(reducers,reducers(void 0,initFormState({fieldValues:initialValues}))),2),state=_useReducer2[0],dispatch=_useReducer2[1],formApi={deregisterField:function deregisterField(field){var index=fieldsRef.current.indexOf(field);-1<index&&fieldsRef.current.splice(index,1)},registerField:function registerField(field){fieldsRef.current.push(field)},updateFields:function updateFields(fieldValues){dispatch(actions_updateFields(fieldValues))},getFields:function getFields(){return fieldsRef.current},getField:function getField(fieldName){for(var i=0;i<fieldsRef.current.length;i++)if(fieldsRef.current[i].name===fieldName)return fieldsRef.current[i]},state:state,dispatch:dispatch};Object(react.useEffect)(function(){return onMount(formApi),function(){onUnmount(formApi)}},[]),Object(react.useEffect)(function(){apiRef.current=formApi});var getPublicFormApi=function(){return{getField:formApi.getField,getFields:function getFields(){return fieldsRef.current},updateFields:formApi.updateFields,dispatch:formApi.dispatch,state:state}},handleSubmit=function(event){return function(){var touched=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];fieldsRef.current.forEach(function(field){field.setTouched(touched)})}(),state.formStatus.isValid?onSubmit===noop&&formRef.current?void formRef.current.submit():(event.preventDefault(),event.stopPropagation(),dispatch(startSubmit()),function isPromise(obj){return!!obj&&("object"===_typeof(obj)||"function"==typeof obj)&&"function"==typeof obj.then}(submitResult=onSubmit(state.fieldValues))?submitResult.then(function(submitError){return dispatch(stopSubmit(submitError)),submitError?void onSubmitError(getPublicFormApi()):void onSubmitSuccess(getPublicFormApi())},function(asyncError){throw dispatch(stopSubmit()),asyncError}):(dispatch(stopSubmit(submitResult)),submitResult?void onSubmitError(getPublicFormApi()):void onSubmitSuccess(getPublicFormApi()))):(event.preventDefault(),void onSubmitError(getPublicFormApi()));var submitResult};return react_default.a.createElement(Context.Provider,{value:formApi},render?render(form_objectSpread({handleSubmit:handleSubmit,elementRef:formRef},props)):"function"==typeof children?children(form_objectSpread({handleSubmit:handleSubmit,elementRef:formRef},props)):"string"==typeof component?react_default.a.createElement(component,form_objectSpread({children:children,onSubmit:handleSubmit,ref:formRef},props)):react_default.a.createElement(component,_extends({},props,{children:children,onSubmit:handleSubmit,elementRef:formRef})),react_default.a.createElement(FormResetter,{reset:function validateAllFields(){fieldsRef.current.forEach(function(field){field.validate()})}}))}Form.displayName="Form";var src_form=Form;Form.__docgenInfo={description:"",methods:[],displayName:"Form",props:{component:{defaultValue:{value:"'form'",computed:!1},required:!1},onSubmit:{defaultValue:{value:"() => (undefined)",computed:!1},required:!1},onSubmitSuccess:{defaultValue:{value:"() => (undefined)",computed:!1},required:!1},onSubmitError:{defaultValue:{value:"focusOnFirstFieldWithError",computed:!0},required:!1},onMount:{defaultValue:{value:"() => (undefined)",computed:!1},required:!1},onUnmount:{defaultValue:{value:"() => (undefined)",computed:!1},required:!1},apiRef:{defaultValue:{value:"useRef()",computed:!0},required:!1},formRef:{defaultValue:{value:"useRef()",computed:!0},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/form.js"]={name:"Form",docgenInfo:Form.__docgenInfo,path:"packages/react-form-composer/src/form.js"});__webpack_require__(31);var ScopeContext=Object(react.createContext)(""),useScope=function(){var name=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",parentName=Object(react.useContext)(ScopeContext),dot=parentName&&name?".":"";return"".concat(parentName).concat(dot).concat(name)},Scope=function(_ref){var name=_ref.name,children=_ref.children,fullScopeName=useScope(name);return react_default.a.createElement(ScopeContext.Provider,{value:fullScopeName},children)};Scope.displayName="Scope";var scope=Scope;function use_field_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function use_field_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?use_field_ownKeys(source,!0).forEach(function(key){use_field_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):use_field_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function use_field_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Scope.__docgenInfo={description:"",methods:[],displayName:"Scope"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/scope.js"]={name:"Scope",docgenInfo:Scope.__docgenInfo,path:"packages/react-form-composer/src/scope.js"});var use_field_defaultStatus={},use_field=function(){var spyValue,fieldName=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",spy=1<arguments.length?arguments[1]:void 0,formApi=useForm(),state=formApi.state,dispatch=formApi.dispatch,fullFieldName=useScope(fieldName),value=get_field(state.fieldValues,fullFieldName),status=get_field(state.fieldStatus,fullFieldName)||use_field_defaultStatus,touched=status.touched,customProps=status.customProps,error=status.error?status.error:get_field(state.formErrors,fullFieldName),dispatchRef=Object(react.useRef)(function(action){dispatch(use_field_objectSpread({field:fullFieldName},action))});return"string"==typeof spy?spyValue=get_field(state.fieldValues,spy):"function"==typeof spy&&(spyValue=spy(state)),{value:value,spyValue:spyValue,touched:touched,error:error,dispatch:dispatchRef.current,customProps:customProps,formApi:formApi}};function field_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function field_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function field_typeof(obj){return(field_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function field_extends(){return(field_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function field_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function field_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function twoInvalidNumbers(x,y){return"number"==typeof x&&isNaN(x)&&isNaN(y)}function Field(_ref){var afterUpdate=_ref.afterUpdate,beforeUpdate=_ref.beforeUpdate,component=_ref.component,formatFromStore=_ref.formatFromStore,formatToStore=_ref.formatToStore,getTargetValue=_ref.getTargetValue,ignoreTargetValueUnless=_ref.ignoreTargetValueUnless,name=_ref.name,spy=_ref.spy,rest=field_objectWithoutProperties(_ref,["afterUpdate","beforeUpdate","component","formatFromStore","formatToStore","getTargetValue","ignoreTargetValueUnless","name","spy"]),_useField=use_field(name,spy),value=_useField.value,spyValue=_useField.spyValue,dispatch=_useField.dispatch,error=_useField.error,touched=_useField.touched,customProps=_useField.customProps,formApi=_useField.formApi,formApiWithoutState=(formApi.state,field_objectWithoutProperties(formApi,["state"])),formApiWithoutStateRef=Object(react.useRef)(formApiWithoutState);return react_default.a.createElement(FieldMemo,field_extends({afterUpdate:afterUpdate,beforeUpdate:beforeUpdate,formatFromStore:formatFromStore,formatToStore:formatToStore,ignoreTargetValueUnless:ignoreTargetValueUnless,getTargetValue:getTargetValue,component:component},{name:name,value:value,error:error,touched:touched,dispatch:dispatch,customProps:customProps,spyValue:spyValue,formApiWithoutState:formApiWithoutStateRef.current},rest))}function field_noop(){}Field.displayName="Field",Field.defaultProps={afterUpdate:field_noop,beforeUpdate:field_noop,component:"input",formatFromStore:function formatFromStore(){var value=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return value},formatToStore:function formatToStore(value){return value},getTargetValue:function getTargetValue(target,value){return target?target.value:value}};var FieldComponent=function(_ref2){var render=_ref2.render,children=_ref2.children,Component=_ref2.component,props=field_objectWithoutProperties(_ref2,["render","children","component"]);if(render)return render(props);if("function"==typeof children)return children(props);if("object"===field_typeof(Component))return react_default.a.createElement(Component,props);var handleBlur=props.handleBlur,handleChange=props.handleChange,elementRef=(props.touched,props.error,props.elementRef),givenProps=field_objectWithoutProperties(props,["handleBlur","handleChange","touched","error","elementRef"]);return react_default.a.createElement(Component,function field_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?field_ownKeys(source,!0).forEach(function(key){field_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):field_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({onBlur:handleBlur,onChange:handleChange,ref:elementRef,children:children},givenProps))},FieldMemo=Object(react.memo)(function(_ref3){var name=_ref3.name,defaultValue=_ref3.defaultValue,_ref3$value=_ref3.value,value=void 0===_ref3$value?defaultValue:_ref3$value,error=_ref3.error,touched=_ref3.touched,dispatch=_ref3.dispatch,customProps=_ref3.customProps,validate=(_ref3.optimizedProps,_ref3.validate),spyValue=_ref3.spyValue,formatToStore=_ref3.formatToStore,formatFromStore=_ref3.formatFromStore,getTargetValue=_ref3.getTargetValue,ignoreTargetValueUnless=_ref3.ignoreTargetValueUnless,beforeUpdate=_ref3.beforeUpdate,afterUpdate=_ref3.afterUpdate,component=_ref3.component,formApiWithoutState=_ref3.formApiWithoutState,rest=field_objectWithoutProperties(_ref3,["name","defaultValue","value","error","touched","dispatch","customProps","optimizedProps","validate","spyValue","formatToStore","formatFromStore","getTargetValue","ignoreTargetValueUnless","beforeUpdate","afterUpdate","component","formApiWithoutState"]),registerField=formApiWithoutState.registerField,deregisterField=formApiWithoutState.deregisterField,formApi=field_objectWithoutProperties(formApiWithoutState,["registerField","deregisterField"]),elementRef=Object(react.useRef)(),isMountedRef=Object(react.useRef)(!1),previous=function usePrevious(value){var ref=Object(react.useRef)({});return Object(react.useEffect)(function(){ref.current=value}),ref.current}({value:value,customProps:customProps}),fieldInterfaceRef=Object(react.useRef)({name:name,getField:formApi.getField,setTouched:function setTouched(touched){return dispatch(setFieldTouched(touched))},setValue:function setValue(value){return dispatch(updateField(value))}});Object.assign(fieldInterfaceRef.current,{validate:function(){validateValue(value)},value:value,error:error,touched:touched,customProps:customProps}),Object(react.useEffect)(function(){fieldInterfaceRef.current.element=elementRef.current}),Object(react.useEffect)(function(){var fieldInterface=fieldInterfaceRef.current;return registerField(fieldInterface),function(){dispatch({type:actionTypes.DEREGISTER_FIELD}),deregisterField(fieldInterface)}},[]),Object(react.useEffect)(function(){if(isMountedRef.current)value===previous.value||twoInvalidNumbers(value,previous.value)||validateValue(value),(value===previous.value||twoInvalidNumbers(value,previous.value))&&customProps===previous.customProps||afterUpdate(fieldInterfaceRef.current,spyValue,customProps);else if(isMountedRef.current=!0,elementRef.current){if(!ignoreTargetValueUnless||ignoreTargetValueUnless(elementRef.current)){var inputValue=formatToStore(getTargetValue(elementRef.current));validateValue(inputValue)}}else validateValue(value)});var validateValue=function(val){var valueToValidate=void 0===val?defaultValue:val;if(!ignoreTargetValueUnless||ignoreTargetValueUnless(elementRef.current)){var validateError;if(validate)if(Array.isArray(validate))for(var i=0;i<validate.length&&!validateError;i++)validateError=validate[i](valueToValidate,spyValue,fieldInterfaceRef.current);else validateError=validate(valueToValidate,spyValue,fieldInterfaceRef.current);dispatch(function(error,value){return{type:actionTypes.SET_FIELD_ERROR,error:error,value:value}}(validateError,valueToValidate))}};return react_default.a.createElement("div",null,react_default.a.createElement(FieldComponent,field_extends({elementRef:elementRef,handleChange:function handleChange(event){var nextValueToStore=formatToStore(getTargetValue(event.target,event)),nextCustomProps=beforeUpdate(fieldInterfaceRef.current,formatFromStore(value),formatFromStore(nextValueToStore));dispatch(updateField(nextValueToStore,nextCustomProps))},handleBlur:function showAnyErrors(event){touched||(error&&event.preventDefault(),dispatch(setFieldTouched(!0)))},name:name,value:formatFromStore(value),touched:touched,error:error,component:component},rest)))}),src_field=Field;Field.__docgenInfo={description:"",methods:[],displayName:"Field",props:{afterUpdate:{defaultValue:{value:"function noop(){}",computed:!1},required:!1},beforeUpdate:{defaultValue:{value:"function noop(){}",computed:!1},required:!1},component:{defaultValue:{value:"'input'",computed:!1},required:!1},formatFromStore:{defaultValue:{value:'(value = "") => value',computed:!1},required:!1},formatToStore:{defaultValue:{value:"(value) => value",computed:!1},required:!1},getTargetValue:{defaultValue:{value:"(target, value) => {\n  if (target) {\n    return target.value;\n  } else {\n    return value;\n  }\n}",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/field.js"]={name:"Field",docgenInfo:Field.__docgenInfo,path:"packages/react-form-composer/src/field.js"});__webpack_require__(58);var FormSpyBase=Object(react.memo)(function(_ref){var state=_ref.state;return(0,_ref.children)(state)}),FormSpy=function(_ref2){var selector=_ref2.selector,children=_ref2.children,selectedState=selector(useForm().state);return react_default.a.createElement(FormSpyBase,{children:children,state:selectedState})};FormSpy.displayName="FormSpy";var form_spy=FormSpy;function field_array_extends(){return(field_array_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function field_array_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function field_array_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function field_array_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function field_array_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}FormSpy.__docgenInfo={description:"",methods:[],displayName:"FormSpy"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/form-spy.js"]={name:"FormSpy",docgenInfo:FormSpy.__docgenInfo,path:"packages/react-form-composer/src/form-spy.js"});var FieldArray=function(_ref){var name=_ref.name,props=field_array_objectWithoutProperties(_ref,["name"]),formDispatch=useForm().dispatch,dispatch=function(action){formDispatch(function field_array_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?field_array_ownKeys(source,!0).forEach(function(key){field_array_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):field_array_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({fieldArray:name},action))};return react_default.a.createElement(form_spy,{selector:function fieldArraySelector(state){return get_field(state.fieldValues,name)}},function(fields){return react_default.a.createElement(FieldArrayBase,field_array_extends({name:name},props,{dispatch:dispatch,fields:fields}))})};FieldArray.displayName="FieldArray";var FieldArrayBase=Object(react.memo)(function(_ref4){var dispatch=_ref4.dispatch,fields=_ref4.fields,component=_ref4.component,name=_ref4.name,props=field_array_objectWithoutProperties(_ref4,["dispatch","fields","component","name"]);return component?react_default.a.createElement(component,field_array_extends({},props,{fields:{map:function map(callback){return(fields||[]).map(function(_item,index){return callback("".concat(name,"[").concat(index,"]"),index)})},push:function push(values){dispatch({type:actionTypes.PUSH_TO_FIELD_ARRAY,payload:values})},remove:function remove(index){dispatch(function(index){return{type:actionTypes.REMOVE_FROM_FIELD_ARRAY,index:index}}(index))}}})):null},function(_ref3,_ref2){var lastFields=_ref3.fields,lastProps=field_array_objectWithoutProperties(_ref3,["fields"]),nextFields=_ref2.fields,nextProps=field_array_objectWithoutProperties(_ref2,["fields"]);return lastFields&&nextFields&&lastFields.length===nextFields.length&&lastProps.name===nextProps.name}),field_array=FieldArray;FieldArray.__docgenInfo={description:"",methods:[],displayName:"FieldArray"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/field-array.js"]={name:"FieldArray",docgenInfo:FieldArray.__docgenInfo,path:"packages/react-form-composer/src/field-array.js"});__webpack_require__(101),__webpack_require__(253),__webpack_require__(102);function text_extends(){return(text_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var stringToNumber=function(str){if(""!==str){var num=+str;return Number.isNaN(num)?void 0:num}},numberToString=function(number){return 0===number?"0":number?number.toString():""},Text=function(props){var numberProps={};return"number"===props.type&&(numberProps.formatToStore=stringToNumber,numberProps.formatFromStore=numberToString),react_default.a.createElement(src_field,text_extends({component:"input"},numberProps,props))};function text_area_extends(){return(text_area_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}Text.displayName="Text",Text.__docgenInfo={description:"",methods:[],displayName:"Text"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/ui-components/text.js"]={name:"Text",docgenInfo:Text.__docgenInfo,path:"packages/react-form-composer/src/ui-components/text.js"});var TextArea=function(props){return react_default.a.createElement(src_field,text_area_extends({component:"textarea"},props))};function select_extends(){return(select_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function select_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function select_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}TextArea.displayName="TextArea",TextArea.__docgenInfo={description:"",methods:[],displayName:"TextArea"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/ui-components/text-area.js"]={name:"TextArea",docgenInfo:TextArea.__docgenInfo,path:"packages/react-form-composer/src/ui-components/text-area.js"});var getSelectedValues=function(target){var options=target.options,result=[];if(options)for(var option,index=0;index<options.length;index++)(option=options[index]).selected&&result.push(option.value);return result},Select=function(_ref){var multiple=_ref.multiple,props=select_objectWithoutProperties(_ref,["multiple"]);return multiple?react_default.a.createElement(MultiSelect,props):react_default.a.createElement(SingleSelect,props)};Select.displayName="Select";var SingleSelect=function(props){return react_default.a.createElement(src_field,select_extends({component:"select"},props))};SingleSelect.displayName="SingleSelect";var MultiSelect=function(props){return react_default.a.createElement(src_field,select_extends({component:"select",multiple:!0,getTargetValue:getSelectedValues,defaultValue:[]},props))};function checkbox_extends(){return(checkbox_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function checkbox_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function checkbox_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}MultiSelect.displayName="MultiSelect",Select.__docgenInfo={description:"",methods:[],displayName:"Select"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/ui-components/select.js"]={name:"Select",docgenInfo:Select.__docgenInfo,path:"packages/react-form-composer/src/ui-components/select.js"});var isChecked=function(target){return target&&target.checked},Checkbox=function(_ref){var _ref$selected=_ref.selected,props=checkbox_objectWithoutProperties(_ref,["selected"]);return react_default.a.createElement(src_field,checkbox_extends({defaultValue:void 0!==_ref$selected&&_ref$selected,getTargetValue:isChecked},props),function(_ref2){var value=_ref2.value,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,elementRef=_ref2.elementRef,props2=(_ref2.touched,_ref2.error,checkbox_objectWithoutProperties(_ref2,["value","handleChange","handleBlur","elementRef","touched","error"]));return react_default.a.createElement("input",checkbox_extends({type:"checkbox",onChange:handleChange,onBlur:handleBlur,checked:value,ref:elementRef},props2))})};function radio_extends(){return(radio_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function radio_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function radio_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{selected:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/ui-components/checkbox.js"]={name:"Checkbox",docgenInfo:Checkbox.__docgenInfo,path:"packages/react-form-composer/src/ui-components/checkbox.js"});var radio_isChecked=function(target){return target&&target.checked},Radio=function(_ref){var radioValue=_ref.value,selected=_ref.selected,props=radio_objectWithoutProperties(_ref,["value","selected"]);return react_default.a.createElement(src_field,radio_extends({defaultValue:selected?radioValue:void 0,ignoreTargetValueUnless:radio_isChecked},props),function(_ref2){var value=_ref2.value,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,elementRef=_ref2.elementRef,props2=(_ref2.touched,_ref2.error,radio_objectWithoutProperties(_ref2,["value","handleChange","handleBlur","elementRef","touched","error"]));return react_default.a.createElement("input",radio_extends({type:"radio",value:radioValue,onChange:handleChange,onBlur:handleBlur,checked:value===radioValue,ref:elementRef},props2))})};Radio.displayName="Radio",Radio.__docgenInfo={description:"",methods:[],displayName:"Radio"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/ui-components/radio.js"]={name:"Radio",docgenInfo:Radio.__docgenInfo,path:"packages/react-form-composer/src/ui-components/radio.js"});var ValidationMessage=function(_ref){var name=_ref.name,render=_ref.render,children=_ref.children,fullScopeName=useScope(name);return react_default.a.createElement(form_spy,{selector:function statusSelector(state){var _ref2=get_field(state,"fieldStatus.".concat(fullScopeName))||{};return{touched:_ref2.touched,error:_ref2.error||get_field(state,"formErrors.".concat(fullScopeName))}}},function(_ref3){var touched=_ref3.touched,_ref3$error=_ref3.error,error=void 0===_ref3$error?null:_ref3$error;return touched&&error?render?render(error):"function"==typeof children?children(error):error:null})};function src_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function src_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ValidationMessage.displayName="ValidationMessage",ValidationMessage.__docgenInfo={description:"",methods:[],displayName:"ValidationMessage"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react-form-composer/src/ui-components/validation-message.js"]={name:"ValidationMessage",docgenInfo:ValidationMessage.__docgenInfo,path:"packages/react-form-composer/src/ui-components/validation-message.js"}),__webpack_require__.d(__webpack_exports__,"n",function(){return updateFieldAction}),__webpack_require__.d(__webpack_exports__,"d",function(){return src_form}),__webpack_require__.d(__webpack_exports__,"q",function(){return useForm}),__webpack_require__.d(__webpack_exports__,"b",function(){return src_field}),__webpack_require__.d(__webpack_exports__,"c",function(){return field_array}),__webpack_require__.d(__webpack_exports__,"j",function(){return Text}),__webpack_require__.d(__webpack_exports__,"k",function(){return TextArea}),__webpack_require__.d(__webpack_exports__,"i",function(){return Select}),__webpack_require__.d(__webpack_exports__,"a",function(){return Checkbox}),__webpack_require__.d(__webpack_exports__,"g",function(){return scope}),__webpack_require__.d(__webpack_exports__,"f",function(){return Radio}),__webpack_require__.d(__webpack_exports__,"l",function(){return ValidationMessage}),__webpack_require__.d(__webpack_exports__,"e",function(){return form_spy}),__webpack_require__.d(__webpack_exports__,"h",function(){return scope}),__webpack_require__.d(__webpack_exports__,"p",function(){return use_field}),__webpack_require__.d(__webpack_exports__,"m",function(){return get_field}),__webpack_require__.d(__webpack_exports__,"o",function(){return actions_updateFields});var updateFieldAction=function(field,value){return function src_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?src_ownKeys(source,!0).forEach(function(key){src_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):src_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({field:field},updateField(value))}},119:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(17),__webpack_require__(6);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=(__webpack_require__(15),__webpack_require__(70),__webpack_require__(1)),fetch_dispatcher=function(_ref){var url=_ref.url,dispatchSelector=_ref.dispatchSelector,dispatch=Object(src.q)().dispatch;return Object(react.useEffect)(function(){var isSubscribed=!0;return fetch(url).then(function(data){data.json().then(function(json){isSubscribed&&dispatch(dispatchSelector(json))})}),function(){isSubscribed=!1}},[]),null},FormStateSelector=function(_ref){var path=_ref.path,_ref$transform=_ref.transform,transform=void 0===_ref$transform?function(data){return data}:_ref$transform,selector=path?function(state){return Object(src.m)(state,path)}:function(state){return state};return react_default.a.createElement(src.e,{selector:selector},function(selectedState){return react_default.a.createElement("pre",null,react_default.a.createElement("code",{style:{fontSize:"60%"}},JSON.stringify(transform(selectedState),null,2)))})};FormStateSelector.displayName="FormStateSelector";var form_state_selector=FormStateSelector;FormStateSelector.__docgenInfo={description:"",methods:[],displayName:"FormStateSelector",props:{transform:{defaultValue:{value:"data=>data",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/form-state-selector.js"]={name:"FormStateSelector",docgenInfo:FormStateSelector.__docgenInfo,path:"stories/data-components/form-state-selector.js"});__webpack_require__(7),__webpack_require__(28),__webpack_require__(33),__webpack_require__(31),__webpack_require__(25),__webpack_require__(58),__webpack_require__(34),__webpack_require__(29),__webpack_require__(39),__webpack_require__(162),__webpack_require__(10);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var Formlet=function(props){var formState=Object(src.q)().state;return react_default.a.createElement("div",null,react_default.a.createElement(src.d,_extends({initialValues:formState.fieldValues},props)))};Formlet.displayName="Formlet";var formlet=Formlet;Formlet.__docgenInfo={description:"",methods:[],displayName:"Formlet"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/formlet.js"]={name:"Formlet",docgenInfo:Formlet.__docgenInfo,path:"stories/data-components/formlet.js"});var ButtonWithCancel=function(_ref){var text=_ref.text,isActive=_ref.isActive,setActive=_ref.setActive,buttonText=isActive?"Canel":text;return react_default.a.createElement("button",{type:"button",onClick:function toggle(){setActive(!isActive)}},buttonText)};ButtonWithCancel.displayName="ButtonWithCancel";var button_with_cancel=ButtonWithCancel;ButtonWithCancel.__docgenInfo={description:"",methods:[],displayName:"ButtonWithCancel"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/button-with-cancel.js"]={name:"ButtonWithCancel",docgenInfo:ButtonWithCancel.__docgenInfo,path:"stories/data-components/button-with-cancel.js"});var isValidSelector=function(state){return state.formStatus.isValid},SaveButton=function(){return react_default.a.createElement(src.e,{selector:isValidSelector},function(isValid){return react_default.a.createElement("button",{style:{backgroundColor:isValid?"green":"cyan"}},"Save")})};SaveButton.displayName="SaveButton";var save_button=SaveButton;SaveButton.__docgenInfo={description:"",methods:[],displayName:"SaveButton"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/save-button.js"]={name:"SaveButton",docgenInfo:SaveButton.__docgenInfo,path:"stories/data-components/save-button.js"});var DeleteButton=function(_ref){var deleteRow=_ref.deleteRow,rowName=_ref.rowName,url=_ref.url,state=Object(src.q)().state,rowValues=Object(src.m)(state.fieldValues,rowName);return react_default.a.createElement("button",{onClick:function handleDelete(){console.log("Call endpoint here to delete row:",rowValues),fetch(url(rowValues),{method:"DELETE"}).then(function(response){return response.json()}).then(function(json){return console.log("Server response",json)}),deleteRow()}},"Confirm Delete")};DeleteButton.displayName="DeleteButton";var delete_button=DeleteButton;function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}DeleteButton.__docgenInfo={description:"",methods:[],displayName:"DeleteButton"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/delete-button.js"]={name:"DeleteButton",docgenInfo:DeleteButton.__docgenInfo,path:"stories/data-components/delete-button.js"});var _ref2=react_default.a.createElement(save_button,null),row_editor=function(_ref){var rowName=_ref.name,RowComponent=_ref.component,rowIndex=_ref.rowIndex,url=_ref.url,deleteRow=_ref.deleteRow,onMount=_ref.onMount,onUnmount=_ref.onUnmount,_useState2=_slicedToArray(Object(react.useState)(!1),2),isEditing=_useState2[0],setEditing=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),isDeleting=_useState4[0],setDeleting=_useState4[1],dispatch=Object(src.q)().dispatch;return isEditing?react_default.a.createElement(formlet,{onSubmit:function handleSubmit(fieldValues){var rowValues=Object(src.m)(fieldValues,rowName);console.log("Call endpoint here to update row:",rowValues),fetch(url(rowValues),{method:"PUT",body:JSON.stringify(rowValues),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(response){return response.json()}).then(function(json){return console.log("Server response",json)})},onSubmitSuccess:function handleSubmitSuccess(formApi){dispatch(Object(src.n)(rowName,Object(src.m)(formApi.state.fieldValues,rowName))),setEditing(!1)},onMount:onMount,onUnmount:onUnmount},react_default.a.createElement(button_with_cancel,{text:"Edit",isActive:!0,setActive:setEditing}),_ref2,react_default.a.createElement(RowComponent,{index:rowIndex})):isDeleting?react_default.a.createElement("div",null,react_default.a.createElement(delete_button,{deleteRow:function handleDelete(){deleteRow(),setDeleting(!1)},rowName:rowName,url:url}),react_default.a.createElement(button_with_cancel,{text:"Delete",isActive:isDeleting,setActive:setDeleting}),react_default.a.createElement(RowComponent,{index:rowIndex,disabled:!0})):react_default.a.createElement("div",null,react_default.a.createElement(button_with_cancel,{text:"Edit",isActive:!1,setActive:setEditing}),react_default.a.createElement(button_with_cancel,{text:"Delete",isActive:!1,setActive:setDeleting}),react_default.a.createElement(RowComponent,{index:rowIndex,disabled:!0}))};function row_creator_slicedToArray(arr,i){return function row_creator_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function row_creator_iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function row_creator_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var row_creator_ref2=react_default.a.createElement(save_button,null),RowCreator=function(_ref){var createRow=_ref.createRow,RowComponent=_ref.component,url=_ref.url,rowName=_ref.name,onMount=_ref.onMount,onUnmount=_ref.onUnmount,_useState2=row_creator_slicedToArray(Object(react.useState)(!1),2),isActive=_useState2[0],setActive=_useState2[1];return isActive?react_default.a.createElement("div",null,react_default.a.createElement(formlet,{onMount:onMount,onUnmount:onUnmount,onSubmit:function handleSubmit(fieldValues){var values=Object(src.m)(fieldValues,rowName);fetch(url,{method:"POST",body:JSON.stringify(values),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(response){return response.json()}).then(function(json){console.log("Server response is",json),createRow(json)})},onSubmitSuccess:function handleSubmitSuccess(){setActive(!1)}},react_default.a.createElement(button_with_cancel,{text:"Create",isActive:isActive,setActive:setActive}),row_creator_ref2,react_default.a.createElement(src.h,{name:rowName},react_default.a.createElement(RowComponent,null)))):react_default.a.createElement(button_with_cancel,{text:"Create",isActive:isActive,setActive:setActive})};RowCreator.displayName="RowCreator";var row_creator=RowCreator;RowCreator.__docgenInfo={description:"",methods:[],displayName:"RowCreator"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/row-creator.js"]={name:"RowCreator",docgenInfo:RowCreator.__docgenInfo,path:"stories/data-components/row-creator.js"});var focusOnFirstField=function(formApi){var fields=formApi.getFields(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,field,_iterator=fields[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)if((field=_step.value).element&&!field.element.disabled&&field.element.focus)return void field.element.focus()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},RenderRows=function(_ref){var fields=_ref.fields,resourceUrl=_ref.resourceUrl,InputComponent=_ref.inputComponent;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"row-items"},fields.map(function(field,index){return react_default.a.createElement("div",{key:index,className:"row-item"},react_default.a.createElement("div",{style:{padding:"5px"}},react_default.a.createElement(src.h,{key:index,name:field},react_default.a.createElement(row_editor,{name:field,component:InputComponent,rowIndex:index,deleteRow:function deleteRow(){return fields.remove(index)},url:function url(values){return"".concat(resourceUrl,"/").concat(values.id)},onMount:focusOnFirstField}))))})),react_default.a.createElement(row_creator,{name:"row",component:InputComponent,createRow:function createRow(values){return fields.push(values)},url:resourceUrl,onMount:focusOnFirstField}))},render_rows=RenderRows;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}RenderRows.__docgenInfo={description:"",methods:[],displayName:"RenderRows"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/render-rows.js"]={name:"RenderRows",docgenInfo:RenderRows.__docgenInfo,path:"stories/data-components/render-rows.js"});var RestApiCrudForm=function(_ref){var name=_ref.name,resourceUrl=_ref.resourceUrl,_ref$urlForRead=_ref.urlForRead,urlForRead=void 0===_ref$urlForRead?resourceUrl:_ref$urlForRead,inputComponent=_ref.inputComponent;return react_default.a.createElement(src.d,{component:"div"},react_default.a.createElement(fetch_dispatcher,{url:urlForRead,formName:"restApiCrudForm",dispatchSelector:function dispatchSelector(values){return console.log(_defineProperty({},name,values)),Object(src.o)(_defineProperty({},name,values))}}),react_default.a.createElement(src.c,{name:name,component:render_rows,inputComponent:inputComponent,resourceUrl:resourceUrl}),react_default.a.createElement(form_state_selector,{path:"fieldValues.".concat(name)}))};RestApiCrudForm.displayName="RestApiCrudForm";__webpack_exports__.a=RestApiCrudForm;RestApiCrudForm.__docgenInfo={description:"",methods:[],displayName:"RestApiCrudForm",props:{urlForRead:{defaultValue:{value:"resourceUrl",computed:!0},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/data-components/rest-api-crud-form.js"]={name:"RestApiCrudForm",docgenInfo:RestApiCrudForm.__docgenInfo,path:"stories/data-components/rest-api-crud-form.js"})},2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(30),__webpack_require__(17),__webpack_require__(10),__webpack_require__(12);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),utils=__webpack_require__(21);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var TextInput=function(_ref){var label=_ref.label,validate=_ref.validate,props=_objectWithoutProperties(_ref,["label","validate"]);return react_default.a.createElement(utils.a,{name:props.name,label:label||props.name,field:react_default.a.createElement(src.j,_extends({validate:props.required?Object(utils.b)(Object(utils.c)(label||props.name),validate):validate},props))})};TextInput.displayName="TextInput";var text_input=TextInput;function select_input_extends(){return(select_input_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function select_input_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function select_input_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}TextInput.__docgenInfo={description:"",methods:[],displayName:"TextInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/custom-ui-components/text-input.jsx"]={name:"TextInput",docgenInfo:TextInput.__docgenInfo,path:"stories/custom-ui-components/text-input.jsx"});var SelectInput=function(_ref){var label=_ref.label,validate=_ref.validate,props=select_input_objectWithoutProperties(_ref,["label","validate"]);return react_default.a.createElement(utils.a,{name:props.name,label:label||props.name,field:react_default.a.createElement(src.i,select_input_extends({validate:props.required?Object(utils.b)(Object(utils.c)(label||props.name),validate):validate},props))})};SelectInput.displayName="SelectInput";var select_input=SelectInput;SelectInput.__docgenInfo={description:"",methods:[],displayName:"SelectInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/custom-ui-components/select-input.jsx"]={name:"SelectInput",docgenInfo:SelectInput.__docgenInfo,path:"stories/custom-ui-components/select-input.jsx"});__webpack_require__(69),__webpack_require__(253),__webpack_require__(252),__webpack_require__(59),__webpack_require__(140);function number_input_extends(){return(number_input_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function number_input_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function number_input_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var strToNumber=function(str){var num=parseInt(str.replace(/[^\d.-]/g,""),10);return Number.isNaN(num)?void 0:num},numberToStr=function(number){return 0===number?"0":number?number.toLocaleString():""},getNextCursorPosition=function(_ref,value,nextValue){var cursorPosition=_ref.element.selectionStart;return nextValue.length===value.length+2&&cursorPosition++,cursorPosition},setCursorPosition=function(_ref2,_,cursorPosition){var element=_ref2.element;void 0!==cursorPosition&&element.setSelectionRange&&element.setSelectionRange(cursorPosition,cursorPosition)},NumberInput=function(_ref3){var name,label=_ref3.label,validate=_ref3.validate,props=number_input_objectWithoutProperties(_ref3,["label","validate"]);return react_default.a.createElement(utils.a,{name:props.name,label:label||props.name,field:react_default.a.createElement(src.j,number_input_extends({defaultValue:null,formatFromStore:numberToStr,formatToStore:strToNumber,beforeUpdate:getNextCursorPosition,afterUpdate:setCursorPosition,validate:props.required?Object(utils.b)((name=label||props.name,function(value){return null===value||isNaN(value)?"Please enter a value for ".concat(name.toLowerCase()):void 0}),validate):validate},props))})};NumberInput.displayName="NumberInput";var number_input=NumberInput;function checkbox_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function checkbox_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}NumberInput.__docgenInfo={description:"",methods:[],displayName:"NumberInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/custom-ui-components/number-input.jsx"]={name:"NumberInput",docgenInfo:NumberInput.__docgenInfo,path:"stories/custom-ui-components/number-input.jsx"});var CheckboxInput=function(_ref){var label=_ref.label,props=checkbox_objectWithoutProperties(_ref,["label"]);return react_default.a.createElement(utils.a,{label:label||props.name,field:react_default.a.createElement(src.a,props)})};CheckboxInput.displayName="CheckboxInput";var custom_ui_components_checkbox=CheckboxInput;function radio_button_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function radio_button_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}CheckboxInput.__docgenInfo={description:"",methods:[],displayName:"CheckboxInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/custom-ui-components/checkbox.jsx"]={name:"CheckboxInput",docgenInfo:CheckboxInput.__docgenInfo,path:"stories/custom-ui-components/checkbox.jsx"});var RadioButton=function(_ref){var label=_ref.label,props=radio_button_objectWithoutProperties(_ref,["label"]);return react_default.a.createElement(utils.a,{name:props.name,label:label||props.value,field:react_default.a.createElement(src.f,props)})};RadioButton.displayName="RadioButton";var radio_button=RadioButton;RadioButton.__docgenInfo={description:"",methods:[],displayName:"RadioButton"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/custom-ui-components/radio-button.jsx"]={name:"RadioButton",docgenInfo:RadioButton.__docgenInfo,path:"stories/custom-ui-components/radio-button.jsx"});var _ref2=react_default.a.createElement("br",null),RenderCount=function(_ref){var name=_ref.name,children=_ref.children,countRef=Object(react.useRef)(1);Object(react.useEffect)(function(){++countRef.current});var Span=function(){return react_default.a.createElement("span",{style:{backgroundColor:"yellow"}},name&&react_default.a.createElement(react_default.a.Fragment,null,_ref2,name," renders:"),countRef.current+"")};return react_default.a.createElement("div",null,name&&react_default.a.createElement(Span,null),children,!name&&react_default.a.createElement(Span,null))};RenderCount.displayName="RenderCount";var render_count=RenderCount;RenderCount.__docgenInfo={description:"",methods:[],displayName:"RenderCount"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/custom-ui-components/render-count.jsx"]={name:"RenderCount",docgenInfo:RenderCount.__docgenInfo,path:"stories/custom-ui-components/render-count.jsx"}),__webpack_require__.d(__webpack_exports__,"f",function(){return text_input}),__webpack_require__.d(__webpack_exports__,"e",function(){return select_input}),__webpack_require__.d(__webpack_exports__,"b",function(){return number_input}),__webpack_require__.d(__webpack_exports__,"a",function(){return custom_ui_components_checkbox}),__webpack_require__.d(__webpack_exports__,"c",function(){return radio_button}),__webpack_require__.d(__webpack_exports__,"d",function(){return render_count})},21:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(118);var required_str_with_name=function(name){return function(value){return value&&value.trim&&0<value.trim().length?void 0:"Please enter a value for ".concat(name.toLowerCase())}};__webpack_require__(31),__webpack_require__(39);function combineValidation(validate1,validate2){if(!validate1)return validate2;if(!validate2)return validate1;var v1Array=Array.isArray(validate1)?validate1:[validate1],v2Array=Array.isArray(validate2)?validate2:[validate2];return v1Array.concat(v2Array)}__webpack_require__(17);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),LabelledField=function(_ref){var label=_ref.label,field=_ref.field,name=_ref.name;return react_default.a.createElement("div",null,react_default.a.createElement("label",null,react_default.a.createElement("div",null,label),react_default.a.createElement("div",null,field)),react_default.a.createElement(src.l,{name:name,render:function render(errorMessage){return react_default.a.createElement("p",null,errorMessage)}}))};LabelledField.displayName="LabelledField";var labelled_field=LabelledField;LabelledField.__docgenInfo={description:"",methods:[],displayName:"LabelledField"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/custom-ui-components/utils/labelled-field.js"]={name:"LabelledField",docgenInfo:LabelledField.__docgenInfo,path:"stories/custom-ui-components/utils/labelled-field.js"}),__webpack_require__.d(__webpack_exports__,"c",function(){return required_str_with_name}),__webpack_require__.d(__webpack_exports__,"b",function(){return combineValidation}),__webpack_require__.d(__webpack_exports__,"a",function(){return labelled_field})},256:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(142);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),custom_ui_components=__webpack_require__(2);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2)))};TheFormState.displayName="TheFormState";var Button=function(props){var state=Object(src.q)().state;return react_default.a.createElement("button",_extends({},props,{style:{backgroundColor:state.formStatus.isValid?"green":"cyan"}}),"Submit")};Button.displayName="Button";var MyErrorMessage=function(){var error=Object(src.p)("generalMessage").error;return error?react_default.a.createElement("p",null,error):null},_ref=react_default.a.createElement("div",null,react_default.a.createElement(custom_ui_components.f,{name:"username",label:"Username",required:!0}),react_default.a.createElement(custom_ui_components.f,{name:"password",required:!0,type:"password",afterUpdate:function revalidatePassword2(fieldApi){console.log("revalpw2",fieldApi),fieldApi.getField("password2").validate()}}),react_default.a.createElement(custom_ui_components.f,{name:"password2",required:!0,type:"password",spy:"password",validate:function sameAsPassword(value,password){if(value!==password)return"Sorry, the two passwords must match, please reenter."}})),_ref2=react_default.a.createElement(MyErrorMessage,null),_ref3=react_default.a.createElement(Button,null),_ref4=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",onSubmit:submitValues,onSubmitSuccess:clearValues},react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react_default.a.createElement("div",{style:{flex:1,marginRight:"2rem"}},_ref,_ref2,_ref3),react_default.a.createElement("div",{style:{flex:2,flexDirection:"column",display:"flex",minWidth:"300px"}},_ref4)))};function submitValues(values){return values.username.toUpperCase().startsWith("A")?{username:'Sorry all usernames staring with "a" or "A" are taken',generalMessage:"Just one error. Please correct and re submit"}:void window.alert("You submitted:".concat(JSON.stringify(values,null,2)))}function clearValues(form){form.updateFields({})}MyForm.displayName="MyForm";var _ref5=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)("# Validation\nThe form below shows field, inter-field and submit validation. Usernames starting with \"a\" or \"A\" will trigger a submit error also the form checks the two passwords are equal.\n\nNote that [TextInput](https://github.com/chrisfield/react-form-composer/blob/master/stories/ui-components/text-input.jsx) is defined locally. It renders the label, the Text field and any ValidationMessage.\n\n\x3c!-- STORY --\x3e\n\n---\n#### Code\n```jsx\nimport React from 'react';\nimport {\n  Form,\n  useForm,\n  useField\n} from 'react-form-composer';\n\nimport { TextInput as Text} from '../../custom-ui-components';\n\nconst TheFormState = () => {\n  const {state} = useForm();\n  return (\n    <pre>\n      <code>{JSON.stringify(state, null, 2)}</code>\n    </pre>\n  );\n};\n\nconst Button = (props) => {\n  const {state} = useForm();\n  return (\n    <button {...props} style={{backgroundColor: state.formStatus.isValid? 'green': 'cyan'}} >Submit</button>\n  );\n};\n\nfunction sameAsPassword(value, password) {\n  // console.log(`sameAsPassword(value, values)`, value, values);\n  if (value !== password) {\n    return \"Sorry, the two passwords must match, please reenter.\"\n  }\n}\n\nfunction revalidatePassword2(fieldApi) {\n  console.log('revalpw2', fieldApi);\n  fieldApi.getField('password2').validate();\n}\n\nconst MyErrorMessage = () => {\n  const {error} = useField('generalMessage');\n  return error? <p>{error}</p>: null;  \n};\n\nconst MyForm = () => {\n  return (\n    <Form name=\"myForm\" onSubmit={submitValues} onSubmitSuccess={clearValues}>\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n        <div style={{ flex: 1, marginRight: '2rem' }}>\n          <div>\n            <Text name=\"username\" label=\"Username\" required/>\n            <Text\n              name=\"password\"\n              required\n              type=\"password\"\n              afterUpdate={revalidatePassword2}\n            />\n            <Text\n              name=\"password2\"\n              required\n              type=\"password\"\n              spy=\"password\"\n              validate={sameAsPassword}\n            />\n          </div>\n          <MyErrorMessage/>\n          <Button/>\n        </div>\n        <div style={{\n          flex: 2,\n          flexDirection: 'column',\n          display: 'flex',\n          minWidth: '300px'\n        }}>\n          <TheFormState/> \n        </div>\n      </div>\n    </Form>\n  );\n};\n\nfunction submitValues(values) {\n  if (values.username.toUpperCase().startsWith('A')) {\n    return {\n      username: 'Sorry all usernames staring with \"a\" or \"A\" are taken',\n      generalMessage: 'Just one error. Please correct and re submit'\n    }\n  }\n  window.alert(`You submitted:${JSON.stringify(values, null, 2)}`)\n}\n\nfunction clearValues(form) {\n  form.updateFields({});\n}\n\nexport default MyForm;\n```\n",function(){return _ref5})},257:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5);__webpack_exports__.a=Object(storybook_readme.doc)("# FormSpy and Hooks\n\n## FormSpy\nFormSpy retrieves specified parts of the form state in an optimized way: it calls a child render function only when the selected state changes. To specify what part of the state you want simply pass in a selector function.\n\nFormSpy is usually a more efficient way to access state values than useFormReducer or useField.\n\n```\nconst isValidSelector = state => state.formStatus.isValid;\n\nconst Button = (props) => (\n  <FormSpy selector={isValidSelector}>\n    {(isValid) => (\n      <RenderCount>\n        <button {...props} style={{backgroundColor: isValid? 'green': 'cyan'}} >Submit</button>\n      </RenderCount>\n    )}\n  </FormSpy>\n);\n```\n\n## useForm\n`useForm()` can be called by any children/decsendants of `Form`. It returns an object with the following properties: \n\n| Property Name   | Type     | Description                                                              |\n|-----------------|----------|--------------------------------------------------------------------------|\n| state           | Object   | The Form state                                                           |\n| dispatch        | function | Call this with an action to update the form state                        |\n\n## useField\n`useField('myFieldOne')` can be called by any children/decsendants of a `Form`. It takes a field-name as a parameter and returns an object with field properties about the field.\n```\nconst PartnerName = () => {\n  const isSingle = useField('isSingle').value;\n  if (!isSingle) {\n    return <TextInput name=\"partnerName\" required/>\n  }\n  return null;\n}\n```\nThe  object returned by useField includes these standard props: \n* `value`: value from the store\n* `error`: undefined if valid. Otherwise an error which will usually be a string (but can be any plain object)\n* `touched`: boolean. has the field been tabbed through or validated due to submit \n* `dispatch`: function to dispatch a an action for this field to the form-reducer\n* `customProps`: A prop set to the value returned by a `beforeUpdate function` (see Field Api for more info)\n\n## useScope\nCall `useScope()` from any component that might be the child/desendant of a `Scope`. It returns an object with one property called name - this is the name given to the `Scope`. You can optionally add a string parameter (for field-name) like `useScope('fieldOne')`. When you add a parameter it will be appended to the scope with a dot.\n")},258:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5);__webpack_exports__.a=Object(storybook_readme.doc)("# FAQs\n\n#### Is there a CHANGELOG?\nYes, it's [here](https://github.com/chrisfield/react-form-composer/blob/master/packages/react-form-composer/CHANGELOG.md).\n")},259:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5);__webpack_exports__.a=Object(storybook_readme.doc)("# Scope\nThe Scope component takes a prop called name. The name provided will automatically be used to prefix any child Field names.\n\n| Property Name      | Required | Description                                                                                                                                                                                                                                                                                                                                                                                           |\n|--------------------|----------|-------------------------------------------------------------------------------------------------------------|\n| name               | Yes      | string - the name to prefix and `Field` components that are children (directly or via intermediate components)|\n| children           |          | Normal JSX children. Often this will include `Field` components                                              |\n\n---\n")},260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(118);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),custom_ui_components=__webpack_require__(2),utils=__webpack_require__(21);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2)))};TheFormState.displayName="TheFormState";var Button=function(props){var state=Object(src.q)().state;return react_default.a.createElement("button",_extends({},props,{style:{backgroundColor:state.formStatus.isValid?"green":"cyan"}}),"Submit")};Button.displayName="Button";var relationshipStatusSelector=function(state){return state.fieldValues.relationshipStatus},_ref=react_default.a.createElement(src.l,{name:"partnerName"}),PartnerName=function(props){return react_default.a.createElement(src.e,{selector:relationshipStatusSelector},function(relationshipStatus){if("NOT-SINGLE"===relationshipStatus)return react_default.a.createElement("div",null,react_default.a.createElement(custom_ui_components.f,_extends({name:"partnerName",validate:Object(utils.c)("partner")},props)),_ref)})};PartnerName.displayName="PartnerName";var _ref2=react_default.a.createElement(src.l,{name:"firstName"}),_ref3=react_default.a.createElement(custom_ui_components.c,{selected:!0,value:"SINGLE",label:"Yes"}),_ref4=react_default.a.createElement(custom_ui_components.c,{value:"NOT-SINGLE",label:"No"}),_ref5=react_default.a.createElement(PartnerName,{label:"Partner Name"}),_ref6=react_default.a.createElement(Button,null),_ref7=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",onSubmit:submitValues,onSubmitSuccess:clearValues},react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react_default.a.createElement("div",{style:{flex:1,marginRight:"2rem"}},react_default.a.createElement("div",null,react_default.a.createElement(custom_ui_components.f,{name:"firstName",label:"First Name",validate:(name="first name",function(value){return value&&value.trim&&0<value.trim().length?void 0:"Please enter a value for ".concat(name.toLowerCase())})}),_ref2),react_default.a.createElement(src.h,{name:"relationshipStatus"},"Are You Single?",react_default.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},_ref3,_ref4)),_ref5,_ref6),react_default.a.createElement("div",{style:{flex:2,flexDirection:"column",display:"flex",minWidth:"300px"}},_ref7)));var name};function submitValues(values){window.alert("You submitted:".concat(JSON.stringify(values,null,2)))}function clearValues(form){form.updateFields({})}MyForm.displayName="MyForm";var _ref8=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)("# Dynamic Fields\nThis section shows one way to render parts of a form conditionally. When the PartnerField renders its validation is automatically activated. Also note that since the RadioButtons have the same name I have used a Scope to save writing it twice.\n\x3c!-- STORY --\x3e\n\n---\n#### Code\n```jsx\nimport React from 'react';\nimport {Form, Scope, useForm, FormSpy, ValidationMessage} from 'react-form-composer';\nimport {TextInput as Text, RadioButton as Radio} from '../../custom-ui-components';\nimport { requiredStrWithName } from '../../custom-ui-components/utils';\n\nconst TheFormState = () => {\n  const {state} = useForm();\n  return (\n    <pre>\n      <code>{JSON.stringify(state, null, 2)}</code>\n    </pre>\n  );\n};\n\nconst Button = (props) => {\n  const {state} = useForm();\n  return (\n    <button {...props} style={{backgroundColor: state.formStatus.isValid? 'green': 'cyan'}} >Submit</button>\n  );\n};\n\nconst required = name => (\n  (value) => (\n    value && value.trim && value.trim().length > 0 ? undefined: `Please enter a value for ${name.toLowerCase()}`\n  )\n);\n\nconst relationshipStatusSelector = state=>state.fieldValues.relationshipStatus;\n\nconst PartnerName = (props) => {\n  return (\n    <FormSpy selector={relationshipStatusSelector}>\n      {relationshipStatus => {\n        if (relationshipStatus === \"NOT-SINGLE\") {\n          return (\n            <div>\n              <Text name=\"partnerName\" validate={requiredStrWithName('partner')} {...props}/>\n              <ValidationMessage name=\"partnerName\"/>\n            </div>\n          );\n        }\n      }}\n    </FormSpy>\n  )\n};\n\nconst MyForm = () => {\n  return (\n    <Form name=\"myForm\" onSubmit={submitValues} onSubmitSuccess={clearValues}>\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n        <div style={{ flex: 1, marginRight: '2rem' }}>\n          <div>\n            <Text name=\"firstName\" label=\"First Name\" validate={required('first name')}/>\n            <ValidationMessage name=\"firstName\"/>\n          </div>\n          <Scope name=\"relationshipStatus\">\n            Are You Single?\n            <div style={{display: 'flex', justifyContent: 'space-around'}}>\n              <Radio selected value=\"SINGLE\" label=\"Yes\"/>\n              <Radio value=\"NOT-SINGLE\" label=\"No\"/>\n            </div>\n          </Scope>\n          <PartnerName label=\"Partner Name\"/>\n          <Button/>\n        </div>\n        <div style={{\n          flex: 2,\n          flexDirection: 'column',\n          display: 'flex',\n          minWidth: '300px'\n        }}>\n          <TheFormState/> \n        </div>\n      </div>\n    </Form>\n  );\n};\n\nfunction submitValues(values) {\n  window.alert(`You submitted:${JSON.stringify(values, null, 2)}`)\n}\n\nfunction clearValues(form) {\n  form.updateFields({});\n}\n\nexport default MyForm;\n```\n",function(){return _ref8})},261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(15),__webpack_require__(70),__webpack_require__(142),__webpack_require__(115),__webpack_require__(163);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),custom_ui_components=__webpack_require__(2);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2)))};TheFormState.displayName="TheFormState";var Button=function(props){var state=Object(src.q)().state;return react_default.a.createElement("button",_extends({},props,{style:{backgroundColor:state.formStatus.isValid?"green":"cyan"}}),"Submit")};Button.displayName="Button";var MyErrorMessage=function(){var error=Object(src.p)("generalMessage").error;return error?react_default.a.createElement("p",null,error):null},_ref=react_default.a.createElement("div",null,react_default.a.createElement(custom_ui_components.f,{name:"username",label:"Username",required:!0}),react_default.a.createElement(custom_ui_components.f,{name:"password",label:"Password",required:!0,type:"password",afterUpdate:function revalidatePassword2(fieldApi){fieldApi.getField("password2").validate()}}),react_default.a.createElement(custom_ui_components.f,{name:"password2",label:"Retype password",required:!0,type:"password",spy:"password",validate:function sameAsPassword(value,password){if(value!==password)return"Sorry, the two passwords must match, please reenter."}})),_ref2=react_default.a.createElement(MyErrorMessage,null),_ref3=react_default.a.createElement(Button,null),_ref4=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",onSubmit:submitValues,onSubmitSuccess:clearValues},react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react_default.a.createElement("div",{style:{flex:1,marginRight:"2rem"}},_ref,_ref2,_ref3),react_default.a.createElement("div",{style:{flex:2,flexDirection:"column",display:"flex",minWidth:"300px"}},_ref4)))};MyForm.displayName="MyForm";var sleep=function(ms){return new Promise(function(resolve){return setTimeout(resolve,ms)})};function simulatePostingData(){return _simulatePostingData.apply(this,arguments)}function _simulatePostingData(){return(_simulatePostingData=_asyncToGenerator(regeneratorRuntime.mark(function _callee(values){var results;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return console.log("starting to post data",values),_context.next=3,sleep(2e3);case 3:return results={},values.username.toUpperCase().startsWith("A")&&(results.errors={username:'Sorry all usernames staring with "a" or "A" are taken',generalMessage:"Just one error. Please correct and re submit"}),console.log("finished posting data. Results:",results),_context.abrupt("return",results);case 7:case"end":return _context.stop()}},_callee)}))).apply(this,arguments)}function submitValues(){return _submitValues.apply(this,arguments)}function _submitValues(){return(_submitValues=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(values){var result;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,simulatePostingData(values);case 2:if(!(result=_context2.sent).errors){_context2.next=5;break}return _context2.abrupt("return",result.errors);case 5:window.alert("You submitted:".concat(JSON.stringify(values,null,2)));case 6:case"end":return _context2.stop()}},_callee2)}))).apply(this,arguments)}function clearValues(form){form.updateFields({})}var _ref5=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)("# Async Submission\nThe form below submits asyncronously. It uses sleep to simulate the latency of waiting for a server response.\n\nLike the last form this one has field, inter-field and submit validation. Usernames starting with \"a\" or \"A\" will trigger a submit error also the form checks the two passwords are equal.\n\x3c!-- STORY --\x3e\n\n---\n#### Code\n```jsx\nimport React from 'react';\nimport {Form, useForm, useField} from 'react-form-composer';\nimport {TextInput} from '../../custom-ui-components';\n\nconst TheFormState = () => {\n  const {state} = useForm();\n  return (\n    <pre>\n      <code>{JSON.stringify(state, null, 2)}</code>\n    </pre>\n  );\n};\n\nconst Button = (props) => {\n  const {state} = useForm();\n  return (\n    <button {...props} style={{backgroundColor: state.formStatus.isValid? 'green': 'cyan'}} >Submit</button>\n  );\n};\n\nfunction sameAsPassword(value, password) {\n  if (value !== password) {\n    return \"Sorry, the two passwords must match, please reenter.\"\n  }\n}\n\nfunction revalidatePassword2(fieldApi) {\n  fieldApi.getField('password2').validate();\n}\n\nconst MyErrorMessage = () => {\n  const {error} = useField('generalMessage');\n  return error? <p>{error}</p>: null;  \n};\n\nconst MyForm = () => {\n  return (\n    <Form name=\"myForm\" onSubmit={submitValues} onSubmitSuccess={clearValues}>\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n        <div style={{ flex: 1, marginRight: '2rem' }}>\n          <div>\n            <TextInput name=\"username\" label=\"Username\" required/>\n            <TextInput\n              name=\"password\"\n              label=\"Password\"\n              required\n              type=\"password\"\n              afterUpdate={revalidatePassword2}\n            />\n            <TextInput \n              name=\"password2\"\n              label=\"Retype password\"\n              required\n              type=\"password\"\n              spy=\"password\"\n              validate={sameAsPassword}\n            />\n          </div>\n          <MyErrorMessage/>\n          <Button/>\n        </div>\n        <div style={{\n          flex: 2,\n          flexDirection: 'column',\n          display: 'flex',\n          minWidth: '300px'\n        }}>\n          <TheFormState/> \n        </div>\n      </div>\n    </Form>\n  );\n};\n\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nasync function simulatePostingData(values) {\n  console.log('starting to post data', values);\n  await sleep(2000);\n  let results = {};\n  if (values.username.toUpperCase().startsWith('A')) {\n    results.errors = {\n      username: 'Sorry all usernames staring with \"a\" or \"A\" are taken',\n      generalMessage: 'Just one error. Please correct and re submit'\n    };\n  }\n  console.log('finished posting data. Results:', results);\n  return results;\n}\n\nasync function submitValues(values) {\n  const result = await simulatePostingData(values);\n  if (result.errors) {\n    return result.errors;\n  }\n  window.alert(`You submitted:${JSON.stringify(values, null, 2)}`)\n}\n\nfunction clearValues(form) {\n  form.updateFields({});\n}\n\nexport default MyForm;\n```\n",function(){return _ref5})},262:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),custom_ui_components=__webpack_require__(2);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2)))};TheFormState.displayName="TheFormState";var Button=function(props){var state=Object(src.q)().state;return react_default.a.createElement("button",_extends({},props,{style:{backgroundColor:state.formStatus.isValid?"green":"cyan"}}),"Submit")};Button.displayName="Button";var _ref2=react_default.a.createElement("div",null,react_default.a.createElement(custom_ui_components.f,{name:"fieldOne",label:"Field One",required:!0}),react_default.a.createElement(custom_ui_components.b,{name:"age",label:"Age"}),react_default.a.createElement(custom_ui_components.a,{name:"isAgreed",label:"Do you agree?"})),_ref3=react_default.a.createElement("div",null,react_default.a.createElement(custom_ui_components.c,{name:"rb2",label:"Red",value:"R"}),react_default.a.createElement(custom_ui_components.c,{name:"rb2",label:"Green",value:"G"}),react_default.a.createElement(custom_ui_components.c,{name:"rb2",label:"Blue",value:"B"})),_ref4=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",initialValues:{rb2:"G"},onSubmit:submitValues,onSubmitSuccess:clearValues},function(_ref){var handleSubmit=_ref.handleSubmit;return react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react_default.a.createElement("div",{style:{flex:1,marginRight:"2rem"}},_ref2,_ref3,react_default.a.createElement(Button,{onClick:handleSubmit})),react_default.a.createElement("div",{style:{flex:2,flexDirection:"column",display:"flex",minWidth:"300px"}},_ref4))})};function submitValues(values){window.alert("You submitted:".concat(JSON.stringify(values,null,2)))}function clearValues(form){form.updateFields({})}MyForm.displayName="MyForm";var _ref5=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)('# Forms with Render Prop / Child Function\nThe `Form` component, like `Field`, can also render a component, a render prop or a render function as child.\n\n#### Component prop\nThis will render a div rather than a form.\n```jsx\n<Form component="div">\n...\n</Form>\n  );\n};\n```\n\n#### Render prop\n```jsx\nconst MyForm = () => {  \n  return (\n    <Form \n      name="myForm"\n      initialValues={{rb2: \'G\'}}\n      onSubmit={submitValues}\n      onSubmitSuccess={clearValues}\n      render={({handleSubmit}) => (\n        <div style={{ flex: 1, marginRight: \'2rem\' }}>\n          <div>\n            <TextInput name="fieldOne" label="Field One" required/>\n            <NumberInput name="age" label="Age"/>\n            <Checkbox name="isAgreed" label="Do you agree?"/>\n          </div>\n          <div>\n            <RadioButton name="rb2" label="Red" value="R" />\n            <RadioButton name="rb2" label="Green" value="G" />\n            <RadioButton name="rb2" label="Blue" value="B" />\n          </div>\n          <Button onClick={handleSubmit}/>\n        </div>\n      )}\n    />\n  );\n};\n\n```\n\n#### Child render function\n```jsx\nconst MyForm = () => {  \n  return (\n    <Form \n      name="myForm"\n      initialValues={{rb2: \'G\'}}\n      onSubmit={submitValues}\n      onSubmitSuccess={clearValues}\n    >\n      {({handleSubmit}) => (\n        <div style={{ flex: 1, marginRight: \'2rem\' }}>\n          <div>\n            <TextInput name="fieldOne" label="Field One" required/>\n            <NumberInput name="age" label="Age"/>\n            <Checkbox name="isAgreed" label="Do you agree?"/>\n          </div>\n          <div>\n            <RadioButton name="rb2" label="Red" value="R" />\n            <RadioButton name="rb2" label="Green" value="G" />\n            <RadioButton name="rb2" label="Blue" value="B" />\n          </div>\n          <Button onClick={handleSubmit}/>\n        </div>\n      )}\n    </Form>\n  );\n};\n\n```\n---\n\x3c!-- STORY --\x3e\n\n',function(){return _ref5})},263:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(58);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),custom_ui_components=__webpack_require__(2),src=__webpack_require__(1),TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2)))};TheFormState.displayName="TheFormState";var Button=function(){var state=Object(src.q)().state;return react_default.a.createElement("button",{style:{backgroundColor:state.formStatus.isValid?"green":"cyan"}},"Submit")};Button.displayName="Button";var submitValues=function(values){alert("You submitted: ".concat(JSON.stringify(values,void 0,2)))},clearValues=function(form){form.updateFields({})},_ref2=react_default.a.createElement("legend",{className:"example-form_title"},"Hobbies"),_ref3=react_default.a.createElement("hr",null),RenderHobbies=function(_ref){var fields=_ref.fields;return react_default.a.createElement("fieldset",null,_ref2,fields.map(function(hobby,index){return react_default.a.createElement(src.h,{key:hobby,name:hobby},react_default.a.createElement(custom_ui_components.f,{name:"nameOfHobby",id:index,required:!0,label:"Hobby name"}),react_default.a.createElement(custom_ui_components.f,{name:"notes",id:index,label:"notes",size:"60"}),react_default.a.createElement("button",{type:"button",title:"Remove Hobby",onClick:function onClick(){return fields.remove(index)}},"-"),_ref3)}),react_default.a.createElement("button",{type:"button",onClick:function onClick(){return fields.push()}},"Add Hobby"))};RenderHobbies.displayName="RenderHobbies";var _ref5=react_default.a.createElement("legend",{className:"example-form_title"},"Shopping List"),_ref6=react_default.a.createElement("hr",null),RenderShoppingList=function(_ref4){var fields=_ref4.fields;return react_default.a.createElement("fieldset",null,_ref5,fields.map(function(item,index){return react_default.a.createElement("div",{key:index},react_default.a.createElement(custom_ui_components.f,{name:item,required:!0,label:"Item"}),react_default.a.createElement("button",{type:"button",title:"Remove Item",onClick:function onClick(){return fields.remove(index)}},"-"),_ref6)}),react_default.a.createElement("button",{type:"button",onClick:function onClick(){return fields.push()}},"Add Item"))};RenderShoppingList.displayName="RenderShoppingList";var _ref7=react_default.a.createElement(src.c,{name:"hobbies",component:RenderHobbies}),_ref8=react_default.a.createElement(src.c,{name:"shoppingList",component:RenderShoppingList}),_ref9=react_default.a.createElement(Button,null),_ref10=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",initialValues:{hobbies:[{}]},onSubmit:submitValues,onSubmitSuccess:clearValues,className:"my-form"},_ref7,_ref8,_ref9,_ref10)};MyForm.displayName="MyForm";var _ref11=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)('# Field Arrays\nThe Form below renders: \n- A FieldArray called hobbies where each field is a Scope containing two TextFields.\n- A FieldArray called shoppingList where each field is a TextField\n\x3c!-- STORY --\x3e\n\n---\n#### Code\n```jsx\nimport React from \'react\';\nimport {TextInput} from \'../../custom-ui-components\';\nimport {\n  Form,\n  Scope,\n  FieldArray,\n  useForm\n} from \'react-form-composer\';\n\nconst TheFormState = () => {\n  const {state} = useForm();\n  return (\n    <pre>\n      <code>{JSON.stringify(state, null, 2)}</code>\n    </pre>\n  );\n};\n\nconst Button = () => {\n  const {state} = useForm();\n  return (\n    <button style={{backgroundColor: state.formStatus.isValid? \'green\': \'cyan\'}} >Submit</button>\n  );\n};\n\nconst submitValues = (values) => {\n  alert(`You submitted: ${JSON.stringify(values, undefined, 2)}`);\n};\n\nconst clearValues = (form) => {\n  form.updateFields({});\n};\n\nconst RenderHobbies = ({fields}) => (\n  <fieldset>\n    <legend className="example-form_title">\n      Hobbies\n    </legend>\n    {fields.map((hobby, index) => (\n      <Scope key={hobby} name={hobby}>\n        <TextInput\n          name="nameOfHobby"\n          id={index}\n          required\n          label="Hobby name"\n        />\n        <TextInput\n          name={`notes`}\n          id={index}\n          label="notes"\n          size="60"\n        />\n        <button type="button" title="Remove Hobby" onClick={() => fields.remove(index)}>-</button>\n        <hr/>\n      </Scope>\n    ))}\n    <button type="button" onClick={() => fields.push()}>Add Hobby</button>\n  </fieldset>\n);\n\nconst RenderShoppingList = ({fields}) => (\n  <fieldset>\n    <legend className="example-form_title">\n      Shopping List\n    </legend>\n    {fields.map((item, index) => (\n      <div key={index}>\n        <TextInput\n          name={item}\n          required\n          label="Item"\n        />\n        <button type="button" title="Remove Item" onClick={() => fields.remove(index)}>-</button>\n        <hr/>\n      </div>\n    ))}\n    <button type="button" onClick={() => fields.push()}>Add Item</button>\n  </fieldset>\n);\n\nconst MyForm = () => {  \n  return (\n    <Form name="myForm" initialValues={{hobbies:[{}]}} onSubmit={submitValues} onSubmitSuccess={clearValues} className="my-form">\n      <FieldArray\n        name="hobbies"\n        component={RenderHobbies}\n      />\n      <FieldArray\n        name="shoppingList"\n        component={RenderShoppingList}\n      />\n      <Button/>\n      <TheFormState />\n    </Form>\n  );\n};\n\nexport default myForm;\n```',function(){return _ref11})},264:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),custom_ui_components=__webpack_require__(2),src=__webpack_require__(1),TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2)))};TheFormState.displayName="TheFormState";var Button=function(){var state=Object(src.q)().state;return react_default.a.createElement("button",{style:{backgroundColor:state.formStatus.isValid?"green":"cyan"}},"Submit")};Button.displayName="Button";var submitValues=function(values){alert("You submitted: ".concat(JSON.stringify(values,void 0,2)))},clearValues=function(form){form.updateFields({})},_ref=react_default.a.createElement(custom_ui_components.f,{name:"line1",label:"line1",required:!0}),_ref2=react_default.a.createElement(custom_ui_components.f,{name:"line2",label:"line2",required:!0}),_ref3=react_default.a.createElement(custom_ui_components.f,{name:"line3",label:"line3"}),_ref4=react_default.a.createElement(custom_ui_components.f,{name:"postalCode",label:"Postcode"}),_ref5=react_default.a.createElement(custom_ui_components.f,{name:"country",label:"Country"}),Address=function(){return react_default.a.createElement(react_default.a.Fragment,null,_ref,_ref2,_ref3,_ref4,_ref5)},_ref6=react_default.a.createElement(custom_ui_components.f,{name:"fullName",label:"Full Name",required:!0}),_ref7=react_default.a.createElement(src.h,{name:"addresses"},react_default.a.createElement("label",null,"Addresses:"),react_default.a.createElement("br",null),react_default.a.createElement(src.h,{name:"Home"},react_default.a.createElement("label",null,"Home:"),react_default.a.createElement("br",null),react_default.a.createElement(Address,null)),react_default.a.createElement("br",null),react_default.a.createElement(src.h,{name:"work"},react_default.a.createElement("label",null,"Work:"),react_default.a.createElement("br",null),react_default.a.createElement(Address,null))),_ref8=react_default.a.createElement(Button,null),_ref9=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",initialValues:{fullName:"Mr J Smith"},onSubmit:submitValues,onSubmitSuccess:clearValues,className:"my-form"},react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react_default.a.createElement("div",{style:{flex:1,marginRight:"2rem"}},_ref6,_ref7,_ref8),react_default.a.createElement("div",{style:{flex:2,flexDirection:"column",display:"flex",minWidth:"300px"}},_ref9)))};MyForm.displayName="MyForm";var _ref10=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)('# Scopes\n\nThe `Scope` component takes a prop called `name`. The name provided will automatically be used to prefix any child `Field` names. The example below uses Scopes to group address fields:\n\n\x3c!-- STORY --\x3e\n\n---\n#### Code\n```jsx\nimport { withDocs } from \'storybook-readme\';\nimport readme from \'./index.md\'\nimport React from \'react\';\nimport {TextInput} from \'../../custom-ui-components\';\nimport { \n  FormStateProvider,\n  Form,\n  Scope,\n  useForm,\n  useFormReducer\n} from \'react-form-composer\';\n\nconst TheFormState = () => {\n  const [state] = useFormReducer(useForm().name);\n  return (\n    <pre>\n      <code>{JSON.stringify(state, null, 2)}</code>\n    </pre>\n  );\n};\n\nconst Button = () => {\n  const [state] = useFormReducer(useForm().name);\n  return (\n    <button style={{backgroundColor: state.formStatus.isValid? \'green\': \'cyan\'}} >Submit</button>\n  );\n};\n\nconst submitValues = (values) => {\n  alert(`You submitted: ${JSON.stringify(values, undefined, 2)}`);\n};\n\nconst clearValues = (form) => {\n  form.updateFields({});\n};\n\nconst Address = () => (\n  <>\n    <TextInput name="line1" label="line1" required/>\n    <TextInput name="line2" label="line2" required/>\n    <TextInput name="line3" label="line3"/>\n    <TextInput name="postalCode" label="Postcode"/>\n    <TextInput name="country" label="Country"/>\n  </>\n);\n\nconst MyForm = () => {  \n  return (\n    <FormStateProvider>\n      <Form \n        name="myForm"\n        initialValues={{fullName: \'Mr J Smith\'}}\n        onSubmit={submitValues}\n        onSubmitSuccess={clearValues}\n        className="my-form"\n      >\n        <TextInput name="fullName" label="Full Name" required/>\n        <Scope name="addresses">\n          <label>Addresses:</label><br/>\n          <Scope name="Home">\n            <label>Home:</label><br/>\n            <Address/>\n          </Scope>\n          <br/>\n          <Scope name="work">\n            <label>Work:</label><br/>\n            <Address/>\n          </Scope>\n        </Scope>\n        <Button/>\n        <TheFormState/> \n      </Form>\n    </FormStateProvider>\n  );\n};\n\nexport default myForm;\n```',function(){return _ref10})},265:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state.fieldValues,null,2)))};TheFormState.displayName="TheFormState";var isValidSelector=function(state){return state.formStatus.isValid},Button=function(props){return react_default.a.createElement(src.e,{selector:isValidSelector},function(isValid){return react_default.a.createElement("button",_extends({},props,{style:{backgroundColor:isValid?"green":"cyan"}}),"Submit")})};Button.displayName="Button";var flexColumn={display:"flex",flexDirection:"column",marginTop:"10px",maxWidth:"200px"},_ref=react_default.a.createElement("label",{style:flexColumn},"Field One (5+ chars):",react_default.a.createElement(src.j,{name:"fieldOne",required:!0,validate:function(value){return!value||5>value.length?"Field must be at least five characters":void 0}})),_ref2=react_default.a.createElement("label",{style:flexColumn},"Text Area: ",react_default.a.createElement(src.k,{name:"fieldTwo"})),_ref3=react_default.a.createElement("label",{style:flexColumn},"Age: ",react_default.a.createElement(src.j,{name:"age",type:"number"})),_ref4=react_default.a.createElement(src.g,{name:"pet"},react_default.a.createElement("div",null,react_default.a.createElement("label",null,"Dog: ",react_default.a.createElement(src.f,{value:"dog",selected:!0}))),react_default.a.createElement("div",null,react_default.a.createElement("label",null,"Cat: ",react_default.a.createElement(src.f,{value:"cat"})))),_ref5=react_default.a.createElement("label",null,"Authorize? ",react_default.a.createElement(src.a,{name:"authorize"})),_ref6=react_default.a.createElement("label",{style:flexColumn},"Frequency",react_default.a.createElement(src.i,{name:"frequency",required:!0},react_default.a.createElement("option",{value:"",disabled:!0},"Select One..."),react_default.a.createElement("option",{value:"daily"},"Daily"),react_default.a.createElement("option",{value:"weekly"},"Weekly"),react_default.a.createElement("option",{value:"monthly"},"Monthly"))),_ref7=react_default.a.createElement("label",{style:flexColumn},"Exercise",react_default.a.createElement(src.i,{name:"exercice",multiple:!0},react_default.a.createElement("option",{value:"Walk"},"walk"),react_default.a.createElement("option",{value:"Run"},"run"),react_default.a.createElement("option",{value:"Cycle"},"cycle"),react_default.a.createElement("option",{value:"Swim"},"swim"))),_ref8=react_default.a.createElement("br",null),_ref9=react_default.a.createElement(Button,null),_ref10=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",onSubmit:submitValues,onSubmitSuccess:clearValues},react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"}},react_default.a.createElement("div",{style:flexColumn},_ref,react_default.a.createElement(src.l,{name:"fieldOne",render:function render(error){return react_default.a.createElement("p",null,error)}}),_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9),react_default.a.createElement("div",{style:{display:"flex",maxWidth:"300px"}},_ref10)))};function submitValues(values){window.alert("You submitted:".concat(JSON.stringify(values,null,2)))}function clearValues(form){form.updateFields({})}MyForm.displayName="MyForm";var _ref11=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)('# Intro\nReact-form-composer is a lightweight, simple, and efficient solution for creating forms in react. As you would expect it makes it easy to get and set field values, to validate and format fields, to create custom inputs and to access an error count.\n\nIt works well for web, react-native and server-rendered applications.\n\nRedux-form-composer has been written with hooks. Check out the [Github repo](https://github.com/chrisfield/react-form-composer). \n[![NPM Version](https://img.shields.io/npm/v/react-form-composer.svg?style=flat)](https://www.npmjs.com/package/react-form-composer)\n![npm bundle size](https://img.shields.io/bundlephobia/minzip/react-form-composer.svg)\n\n\n# A Simple Form\n##### Install with npm or yarn\n`npm install --save react-form-composer` or `yarn add react-form-composer`\n\n## Try out this simple form\nThe following components make it easy to get started:\n* Text\n* TextArea\n* RadioGroup\n* Radio\n* Checkbox\n* Select\n* ValidationMessage\n\n\x3c!-- STORY --\x3e\n\n---\n#### Code\n```jsx\nimport React from \'react\';\nimport {\n  FormStateProvider,\n  Form,\n  FormSpy,\n  useForm,\n  useFormReducer,\n  Text,\n  TextArea,\n  RadioGroup,\n  Radio,\n  Checkbox,\n  Select,\n  ValidationMessage\n} from \'../../packages/react-form-composer/src\';\n\nconst TheFormState = () => {\n  const [state] = useFormReducer(useForm().name);\n  return (\n    <pre>\n      <code>{JSON.stringify(state.fieldValues, null, 2)}</code>\n    </pre>\n  );\n};\n\nconst isValidSelector = state => state.formStatus.isValid;\nconst Button = (props) => (\n  <FormSpy selector={isValidSelector}>\n    {(isValid) => (\n        <button {...props} style={{backgroundColor: isValid? \'green\': \'cyan\'}} >Submit</button>\n    )}\n  </FormSpy>\n);\n\nconst lengthAtLeast5 = value => {\n  return !value || value.length < 5 ? \'Field must be at least five characters\' : undefined;\n}\n\nconst flexColumn = {\n  display: \'flex\',\n  flexDirection: \'column\',\n  marginTop: \'10px\',\n  maxWidth: \'200px\'\n}\n\nconst MyForm = () => {\n  return (\n    <FormStateProvider>\n      <Form name="myForm" onSubmit={submitValues} onSubmitSuccess={clearValues}>\n        <div style={{ display: \'flex\', flexWrap: \'wrap\', justifyContent: \'space-evenly\'}}>\n          <div style={flexColumn}>\n            <label style={flexColumn}>\n              Field One (5+ chars):\n              <Text name="fieldOne" required validate={lengthAtLeast5}/>\n            </label>\n            <ValidationMessage name="fieldOne" render={error => <p>{error}</p>}/>\n            <label style={flexColumn}>Text Area: <TextArea name="fieldTwo"/></label>\n            <label style={flexColumn}>Age: <Text name="age" type="number"/></label>\n            <RadioGroup name="pet">\n              <div><label>Dog: <Radio value="dog" selected/></label></div>\n              <div><label>Cat: <Radio value="cat"/></label></div>\n            </RadioGroup>\n            <label>Authorize? <Checkbox name="authorize"/></label>\n            <label style={flexColumn}>\n              Frequency\n              <Select name="frequency" required>\n                <option value="" disabled>\n                  Select One...\n                </option>\n                <option value="daily">Daily</option>\n                <option value="weekly">Weekly</option>\n                <option value="monthly">Monthly</option>\n              </Select>\n            </label>\n            <label style={flexColumn}>\n              Exercise\n              <Select name="exercice" multiple>\n                <option value="Walk">walk</option>\n                <option value="Run">run</option>\n                <option value="Cycle">cycle</option>\n                <option value="Swim">swim</option>\n              </Select>\n            </label>\n            <br/>\n            <Button/>\n          </div>\n          <div style={{\n            display: \'flex\',\n            maxWidth: \'300px\'\n          }}>\n            <TheFormState/> \n          </div>\n        </div>\n      </Form>\n    </FormStateProvider>\n  );\n};\n\nfunction submitValues(values) {\n  window.alert(`You submitted:${JSON.stringify(values, null, 2)}`)\n}\n\nfunction clearValues(form) {\n  form.updateFields({});\n}\n\nexport default MyForm;\n```\n---\n\n#### Explanation\nThe `Form` components default behaviour is to render it\'s children in a form. The `onSubmit` and `onSubmitSuccess` props do what their names suggest.\n\nThe example shows how easy it is to use the built-in components to create controlled html form inputs.\n\nIt also shows two alternative ways to \'manually\' access parts of the form-state:\n* `TheFormState` custom component has been written with `useForm`\n* `Button` has been written with `FormSpy`.\n\n`FormSpy` is an optimized component that takes a selector prop - in this case a function that returns the isValid status of the form which is then used to toggle the green background-color.\n\n#### Next Steps\nThe next section shows how to write your own ui-components.',function(){return _ref11})},266:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(69),__webpack_require__(10);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),custom_ui_components=__webpack_require__(2);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2)))};TheFormState.displayName="TheFormState";var Button=function(props){var state=Object(src.q)().state;return react_default.a.createElement("button",_extends({},props,{style:{backgroundColor:state.formStatus.isValid?"green":"cyan"}}),"Submit")};Button.displayName="Button";var stringToNumber=function(str){return+str},Slider=function(props){return react_default.a.createElement(src.j,_extends({type:"range",min:0,max:100,step:5,defaultValue:25,formatToStore:stringToNumber},props))};Slider.displayName="Slider";var _ref=react_default.a.createElement("div",null,react_default.a.createElement("label",null,react_default.a.createElement("div",null,"Lucky number"),react_default.a.createElement(Slider,{name:"luckyNumber"}))),_ref2=react_default.a.createElement(custom_ui_components.e,{name:"frequency",label:"How often do you eat noodles",required:!0},react_default.a.createElement("option",{value:"",disabled:!0},"Select One..."),react_default.a.createElement("option",{value:"daily"},"Daily"),react_default.a.createElement("option",{value:"weekly"},"Weekly"),react_default.a.createElement("option",{value:"monthly"},"Monthly")),_ref3=react_default.a.createElement(custom_ui_components.b,{name:"age",required:!0,label:"Age"}),_ref4=react_default.a.createElement(Button,null),_ref5=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",onSubmit:submitValues,onSubmitSuccess:clearValues},react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react_default.a.createElement("div",{style:{flex:1,marginRight:"2rem"}},_ref,_ref2,_ref3,_ref4),react_default.a.createElement("div",{style:{flex:2,flexDirection:"column",display:"flex",minWidth:"300px"}},_ref5)))};function submitValues(values){window.alert("You submitted:".concat(JSON.stringify(values,null,2)))}function clearValues(form){form.updateFields({})}MyForm.displayName="MyForm";var _ref6=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)("# Writing ui-Components\n\nThe built-in ui-components provided with react-form-composer are written using the `Field` api. Links to the source code are listed below:\n\n* [Text](https://github.com/chrisfield/react-form-composer/blob/master/packages/react-form-composer/src/ui-components/text.js)\n* [TextArea](https://github.com/chrisfield/react-form-composer/blob/master/packages/react-form-composer/src/ui-components/text-area.js)\n* [RadioGroup and Radio](https://github.com/chrisfield/react-form-composer/blob/master/packages/react-form-composer/src/ui-components/radio.js)\n* [Checkbox](https://github.com/chrisfield/react-form-composer/blob/master/packages/react-form-composer/src/ui-components/checkbox.js)\n* [Select](https://github.com/chrisfield/react-form-composer/blob/master/packages/react-form-composer/src/ui-components/select.js)\n* [ValidationMessage](https://github.com/chrisfield/react-form-composer/blob/master/packages/react-form-composer/src/ui-components/validation-message.js)\n\nThe built-in ui-components may meet your requirements but it's easy to write custom ui-components and often doing this will simplify your forms and save repetition. There are two ways you could write custom components:\n* use the `Field` component say by copying and adapting the code from one of the build-in components (they also use the `Field` component).\n* Embed a built-in component in your own component to change what it does and how it looks. \n\nThe second of these techniques is simpler and has the advantage that it reuses the code from the built-in ui component. The form below makes use of three custom components: `Slider`, `SelectInput` and `NumberInput`. These custom inputs add and alter the behaviour and presentation of the `Text` and `Select` built-in ui-components they contain.\n\n```\n<div>\n  <label>\n    <div>Lucky number</div>\n    <Slider name=\"luckyNumber\"/>\n  </label>\n</div>\n<SelectInput name=\"frequency\" label=\"How often do you eat noodles\" required>\n  <option value=\"\" disabled>\n    Select One...\n  </option>\n  <option value=\"daily\">Daily</option>\n  <option value=\"weekly\">Weekly</option>\n  <option value=\"monthly\">Monthly</option>\n</SelectInput>\n<NumberInput name=\"age\" required label=\"Age\"/>\n```\n\x3c!-- STORY --\x3e\n\n## Example custom control: Slider\nThis custom `Slider` just renders the `Text` built-in ui-component adding in a few props.\n\n```\nimport React from 'react';\nimport {Text} from 'react-form-composer';\n\nconst stringToNumber = str => Number(str);\nconst Slider = (props) => (\n  <Text\n    type=\"range\"\n    min={0}\n    max={100}\n    step={5}\n    defaultValue={25}\n    formatToStore={stringToNumber}\n    {...props}\n  />\n);\n\nexport default Slider;\n```\n\n---\n## Example custom control: SelectInput\nThis custom written [`SelectInput`](https://github.com/chrisfield/react-form-composer/blob/master/stories/ui-components/select-input.jsx) simply provides a wrapper around the built-in `Select` ui-component. The wrapper renders a label, the built-in `Select` and any validation message.\n\n#### Code\n```jsx\nimport React from 'react';\nimport { Select } from 'react-form-composer';\nimport {combineValidation, requiredStrWithName, LabelledField} from './utils';\n\nconst SelectInput = ({label, validate, ...props}) => (\n  <LabelledField\n    name={props.name}\n    label={label || props.name}\n    field={\n      <Select\n        validate={props.required ? combineValidation(requiredStrWithName(label || props.name), validate): validate}\n        {...props}\n      />\n    }\n  />\n);\n\nexport default SelectInput;\n```\n\n---\n## Example custom control: NumberInput\nThe custom written [`NumberInput`](https://github.com/chrisfield/react-form-composer/blob/master/stories/ui-components/number-input.jsx) can be used for integers. It shows the value formatted to the locale: e.g with commas separating the thousands like 1,000,000.\n\nNote: If you have ever tried formatting fields in React you will know that the cursor position is often reset placing it at the end of the entered text/digits. `NumberInput` includes code to retain the cursor position.\n\nThe `NumberInput` also accepts a label property which it uses for the label and includes in the *'required'* error message.\n\n#### Code\n```jsx\nimport React from 'react';\nimport { Text } from 'react-form-composer';\nimport {combineValidation, LabelledField} from './utils';\n\nconst requiredNumWithName = name => (\n  (value) => {\n    if (value === null || isNaN(value)) {\n      return `Please enter a value for ${name.toLowerCase()}`;\n    }\n      return undefined;\n  }\n);\n\nconst strToNumber = str => {\n  const num = parseInt(str.replace(/[^\\d.-]/g, \"\"), 10);\n  if (Number.isNaN(num)) {\n    return undefined;\n  }\n  return num;\n};\n\nconst numberToStr = number => {\n  if (number === 0) {\n    return '0';\n  }\n  if (!number) {\n    return '';\n  }\n  return number.toLocaleString();\n};\n\n\nexport const getNextCursorPosition = ({element}, value, nextValue) => {\n  let cursorPosition = element.selectionStart;\n  if (nextValue.length === value.length + 2) { // + 2 is for digit and comma\n    cursorPosition++;\n  }\n  return cursorPosition;\n}\n\nexport const setCursorPosition = ({element}, cursorPosition) => {\n  if (cursorPosition !== undefined && element.setSelectionRange) {\n    element.setSelectionRange(cursorPosition, cursorPosition);\n  }  \n}\n\nconst NumberInput = ({label, validate, ...props}) => (\n  <LabelledField\n    name={props.name}\n    label={label || props.name}\n    field={\n      <Text\n        defaultValue={null}\n        formatFromStore={numberToStr}\n        formatToStore={strToNumber}\n        beforeUpdate={getNextCursorPosition}\n        afterUpdate={setCursorPosition}\n        validate={props.required ? combineValidation(requiredNumWithName(label || props.name), validate): validate}\n        {...props}\n      />\n    }\n  />\n);\n\nexport default NumberInput;\n```\n---\n\n#### Notes\n\nThe functions for `formatFromStore` and `formatToStore` are fairly self explaintary. \n\nAny function you pass as a `beforeUpdate` prop will be called with the field, the old value and the new value. Whatever your `beforeUpdate` function returns will be passed to any `afterUpdate` as the 2nd param (the 1st param being the field).\n\n",function(){return _ref6})},267:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),rest_api_crud_form=__webpack_require__(119),custom_ui_components=__webpack_require__(2),TODOS_URL="https://jsonplaceholder.typicode.com/todos",_ref2=react_default.a.createElement(rest_api_crud_form.a,{name:"todoList",resourceUrl:TODOS_URL,urlForRead:"".concat(TODOS_URL,"?userId=").concat(3),inputComponent:function(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,index=_ref.index;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(custom_ui_components.b,{defaultValue:3,disabled:!0,name:"userId",id:"userId".concat(index),required:!0,label:"userId"}),react_default.a.createElement(custom_ui_components.b,{disabled:!0,name:"id",id:"id".concat(index),label:"id"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"title",id:"title".concat(index),required:!0,label:"Title"}),react_default.a.createElement(custom_ui_components.a,{disabled:disabled,name:"completed",id:"completed".concat(index),label:"Completed"}))}}),Form=function(){return _ref2};Form.displayName="Form";__webpack_exports__.a=Object(storybook_readme.withDocs)('# Row Editor\nThe form below populates a series of rows with data fetched from https://jsonplaceholder.typicode.com/todos/?userId=3.\n\nIt provides a CRUD facility and includes one-row-at-a-time updates with an edit/cancel functionality like I\'ve seen on several Angular applications. To implement this the Rows are rendered in a div. Only when the user presses \'Edit\' for a particular Row are that Rows\' Fields rendered in a form.\n\nYou might also want to look at the [code for data-components](https://github.com/chrisfield/react-form-composer/tree/master/stories/data-components).\n\n---\n#### Code\n```jsx\nimport React from \'react\';\nimport RestApiCrudForm from \'../../data-components/rest-api-crud-form\';\nimport {TextInput, NumberInput, Checkbox} from \'../../custom-ui-components\';\n\nconst USER_ID=3;\nconst Todo = ({disabled=false, index}) => {\n  return (\n    <>\n      <NumberInput\n        defaultValue={USER_ID}\n        disabled={true}\n        name="userId"\n        id={`userId${index}`}\n        required\n        label="userId"\n      />\n      <NumberInput\n        disabled={true}\n        name="id"\n        id={`id${index}`}\n        label="id"\n      />\n      <TextInput\n        disabled={disabled}\n        name="title"\n        id={`title${index}`}\n        required\n        label="Title"\n      />\n      <Checkbox\n        disabled={disabled}\n        name="completed"\n        id={`completed${index}`}\n        label="Completed"\n      />\n    </>\n  );\n}\n\nconst TODOS_URL = \'https://jsonplaceholder.typicode.com/todos\';\nconst Form = () => (\n  <RestApiCrudForm\n    name="todoList"\n    resourceUrl={TODOS_URL}\n    urlForRead={`${TODOS_URL}?userId=${USER_ID}`}\n    inputComponent={Todo}\n  />\n);\n\nexport default MyForm;\n\n```\n\x3c!-- STORY --\x3e\n',Form);Form.__docgenInfo={description:"",methods:[],displayName:"Form"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/introduction/row-editor/index.js"]={name:"Form",docgenInfo:Form.__docgenInfo,path:"stories/introduction/row-editor/index.js"})},268:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5);__webpack_exports__.a=Object(storybook_readme.doc)("# Form\n\nRenders an html form and acts as a container for `Fields`. `Form` components must directly or indirectly be inside a `FormStateProvider`.\nAny children/descendants of Form can use the `useForm` hook to get the form name.\n\nWhen you create a `<Form>` these are the properties to set. Any additional props will be passed on to to the rendered component (or function)\n\n| Property Name | Required | Description                                                                                                                                                                                                                                                                                                                                                                     |\n|---------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| name          | Yes      | String. A unique name for the Form                                                                                                                                                                                                                                                                                                                                              |\n| initialValues |          | Object. Any initial field values for the form. Note you can also set field values by dispatching an updateFields action                                                                                                                                                                                                                                                         |\n| onSubmit      |          | Function. Use this to submit the field-values which will be passed in as a parameter. It can make api calls syncronously or by returning a promise. It will only be called if the form fields are valid. An important point to make is that this function can return error messages back to the form. If you do not pass an onSubmit prop a traditional submit will take place. |\n| onSuccess     |          | Function. Use this to reset the form fields or show a feedback message etc. It will be passed the form instance as a parameter.                                                                                                                                                                                                                                                 |\n| onSubmitError |          | Function. Use this prop to pass a function that will be called when there is a validation error that prevents onSubmit. Your function will be called with a formApi param. If you don't pass this prop the default is a function to sets focus and scrolls to the error                                                                                                         |\n| onMount       |          | Function. It will be passed the formApi object (see below). Can be used eg to set focus on first field                                                                                                                                                                                                                                                                          |\n| onUnount      |          | Function. It will be passed the formApi object (see below). Can be used eg to return focus to a particular field outside the form                                                                                                                                                                                                                                               |\n| component     |          | String or node. This is what will be rendered as the outer element (default is form)                                                                                                                                                                                                                                                                                            |\n| formRef       |          | Object from useRef(). Pass this if you need a ref to the rendered component (typically an html form)                                                                                                                                                                                                                                                                            |\n| apiRef        |          | Object from useRef(). Pass this if you need a ref formApi                                                                                                                                                                                                                                                                                                                       |\n| render        |          | function. A render function that will be called with props handleSubmit and elementRef                                                                                                                                                                                                                                                                                          |\n| children      |          | Node or function. A function that will be called with props handleSubmit and elementRef. Or normal JSX children                                                                                                                                                                                                                                                                 |\n\n---\n\n`Form` will pass these props to the rendered component (or function):\n* `handleSubmit` Call this function with no params validate and submit values\n* `elementRef` You can pass this as the ref prop if you render a form in a render function\n\n---\n\nThe formApi object (passed to any onSuccess function) includes these props:\n\n| Property Name | Type     | Description                                                    |\n|---------------|----------|----------------------------------------------------------------|\n| name          | String   | Name of the Form                                               |\n| getField      | Function | Call this with a fieldName to return the fieldApi              |\n| getFields     | Function | Call this return an array of the fields                        |\n| updateFields  | Function | Call this with the field values to reset the form field values |\n| dispatch      | Function | Call this with am action to update any form state              |\n| state         | Object   | The current Form state.                                        |\n\n---")},269:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(31),__webpack_require__(30),__webpack_require__(58),__webpack_require__(17),__webpack_require__(10),__webpack_require__(12),__webpack_require__(118);var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(1),custom_ui_components=__webpack_require__(2);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var TheFormState=function(){var state=Object(src.q)().state;return react_default.a.createElement(custom_ui_components.d,{name:"TheFormState"},react_default.a.createElement("pre",null,react_default.a.createElement("code",null,JSON.stringify(state,null,2))))};TheFormState.displayName="TheFormState";var isValidSelector=function(state){return state.formStatus.isValid},Button=function(props){return react_default.a.createElement(src.e,{selector:isValidSelector},function(isValid){return react_default.a.createElement(custom_ui_components.d,null,react_default.a.createElement("button",_extends({},props,{style:{backgroundColor:isValid?"green":"cyan"}}),"Submit"))})};Button.displayName="Button";var requiredStr=function(value){return value&&value.trim&&0<value.trim().length?void 0:"Please enter a value"},TextInput=function(_ref){var name=_ref.name,validate=_ref.validate,label=_ref.label,_ref$defaultValue=_ref.defaultValue,defaultValue=void 0===_ref$defaultValue?"":_ref$defaultValue;return react_default.a.createElement(src.b,{name:name,validate:validate,defaultValue:defaultValue,render:function render(_ref2){var name=_ref2.name,value=_ref2.value,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,error=_ref2.error,touched=_ref2.touched,elementRef=_ref2.elementRef;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("label",null,react_default.a.createElement(custom_ui_components.d,null,label,react_default.a.createElement("input",{value:value,name:name,onChange:handleChange,onBlur:handleBlur,ref:elementRef}))),touched&&error&&react_default.a.createElement("div",null,error))}})};TextInput.displayName="TextInput";var _ref4=react_default.a.createElement("legend",{className:"example-form_title"},"Shopping List"),_ref5=react_default.a.createElement("hr",null),RenderShoppingList=function(_ref3){var fields=_ref3.fields;return react_default.a.createElement("fieldset",null,_ref4,fields.map(function(item,index){return react_default.a.createElement("div",{key:index},react_default.a.createElement(TextInput,{label:"Item",name:item,validate:requiredStr}),react_default.a.createElement("button",{type:"button",title:"Remove Item",onClick:function onClick(){return fields.remove(index)}},"-"),_ref5)}),react_default.a.createElement("button",{type:"button",onClick:function onClick(){return fields.push()}},"Add Item"))};RenderShoppingList.displayName="RenderShoppingList";var relationshipStatusSelector=function(state){return state.fieldValues.relationshipStatus},PartnerName=function(props){return react_default.a.createElement(src.e,{selector:relationshipStatusSelector},function(relationshipStatus){if("NOT-SINGLE"===relationshipStatus)return react_default.a.createElement(TextInput,_extends({name:"partnerName",validate:requiredStr},props))})};PartnerName.displayName="PartnerName";var isChecked=function(target){return target.checked},RadioButton=function(_ref6){var selected=_ref6.selected,value=_ref6.value,props=_objectWithoutProperties(_ref6,["selected","value"]);return react_default.a.createElement(src.b,_extends({defaultValue:selected?value:void 0,radioValue:value,ignoreTargetValueUnless:isChecked},props),function(props){var id="".concat(props.name,"-").concat(props.radioValue);return react_default.a.createElement(custom_ui_components.d,null,react_default.a.createElement("input",{id:id,type:"radio",ref:props.elementRef,name:props.name,value:props.radioValue,checked:props.radioValue===props.value,onChange:props.handleChange}),react_default.a.createElement("label",{htmlFor:id},props.label))})};RadioButton.displayName="RadioButton";var _ref7=react_default.a.createElement(custom_ui_components.d,{name:"Whole form"},react_default.a.createElement(TextInput,{defaultValue:"Bob",name:"firstName",label:"First Name",validate:requiredStr}),react_default.a.createElement(TextInput,{name:"middleName",label:"Middle Name"}),react_default.a.createElement(TextInput,{name:"lastName",label:"Last Name",validate:requiredStr}),react_default.a.createElement(src.h,{name:"relationshipStatus"},"Are You Single?",react_default.a.createElement(RadioButton,{selected:!0,value:"SINGLE",label:"Yes"}),react_default.a.createElement(RadioButton,{value:"NOT-SINGLE",label:"No"})),react_default.a.createElement(PartnerName,{label:"Partner Name"}),react_default.a.createElement(src.c,{name:"shoppingList",component:RenderShoppingList}),react_default.a.createElement(Button,null)),_ref8=react_default.a.createElement(TheFormState,null),MyForm=function(){return react_default.a.createElement(src.d,{name:"myForm",initialValues:{shoppingList:["Bread"]},onSubmit:submitValues,onSubmitSuccess:clearValues},react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react_default.a.createElement("div",{style:{flex:1,marginRight:"2rem"}},_ref7),react_default.a.createElement("div",{style:{flex:2,flexDirection:"column",display:"flex",minWidth:"300px"}},_ref8)))};function submitValues(values){window.alert("You submitted:".concat(JSON.stringify(values,null,2)))}function clearValues(form){form.updateFields({})}MyForm.displayName="MyForm";var _ref9=react_default.a.createElement(MyForm,null);__webpack_exports__.a=Object(storybook_readme.withDocs)('# Optimization\nWith Field and FormSpy only the components that need updating re-render as the form\'s state changes. This page shows the various render counts so you can see this in practice.\n\n\x3c!-- STORY --\x3e\n\n---\n#### Code\n```jsx\nimport React from \'react\';\nimport {Form, Field, FieldArray, FormSpy, Scope, useForm} from \'react-form-composer\';\nimport {RenderCount} from \'../../custom-ui-components\';\n\nconst TheFormState = () => {\n  const {state} = useForm();\n  return (\n    <RenderCount name="TheFormState">\n      <pre>\n        <code>{JSON.stringify(state, null, 2)}</code>\n      </pre>\n    </RenderCount>\n  );\n};\n\nconst isValidSelector = state => state.formStatus.isValid;\nconst Button = (props) => (\n  <FormSpy selector={isValidSelector}>\n    {(isValid) => (\n      <RenderCount>\n        <button {...props} style={{backgroundColor: isValid? \'green\': \'cyan\'}} >Submit</button>\n      </RenderCount>\n    )}\n  </FormSpy>\n);\n\nconst requiredStr = (value) => {\n  return value && value.trim && value.trim().length > 0 ? undefined: \'Please enter a value\'\n};\n\nconst TextInput = ({name, validate, label, defaultValue=""}) => (\n  <Field name={name} validate={validate} defaultValue={defaultValue} render={\n    ({name, value, handleChange, handleBlur, error, touched, elementRef}) => {\n      return <>\n        <label>\n          <RenderCount>\n              {label}\n              <input value={value} name={name} onChange={handleChange} onBlur={handleBlur} ref={elementRef}/>\n          </RenderCount>\n        </label>\n        {touched && error && <div>{error}</div>}\n      </>\n    }\n  }/>\n);\n\nconst RenderShoppingList = ({fields}) => (\n  <fieldset>\n    <legend className="example-form_title">\n      Shopping List\n    </legend>\n    {fields.map((item, index) => (\n      <div key={index}>\n        <TextInput label="Item" name={item} validate={requiredStr}/>\n        <button type="button" title="Remove Item" onClick={() => fields.remove(index)}>-</button>\n        <hr/>\n      </div>\n    ))}\n    <button type="button" onClick={() => fields.push()}>Add Item</button>\n  </fieldset>\n);\n\nconst relationshipStatusSelector = state=>state.fieldValues.relationshipStatus;\nconst PartnerName = (props) => {\n  return (\n    <FormSpy selector={relationshipStatusSelector}>\n      {relationshipStatus => {\n        if (relationshipStatus === "NOT-SINGLE") {\n          return (\n            <TextInput name="partnerName" validate={requiredStr} {...props}/>\n          );\n        }\n      }}\n    </FormSpy>\n  )\n};\n\nconst isChecked = target => target.checked;\nconst RadioButton = ({selected, value, ...props}) => (\n  <Field\n    defaultValue={selected? value: undefined}\n    radioValue={value}\n    ignoreTargetValueUnless={isChecked}\n    {...props}\n  >\n    {props => {\n      const id = `${props.name}-${props.radioValue}`;\n      return (\n        <RenderCount>\n          <input id={id} type="radio" ref={props.elementRef} name={props.name} value={props.radioValue} checked={props.radioValue===props.value} onChange={props.handleChange}/>\n          <label htmlFor={id}>{props.label}</label>\n        </RenderCount>\n      );\n    }}\n  </Field>\n);\n\nconst MyForm = () => {\n  return (\n    <Form name="myForm" initialValues={{shoppingList:[\'Bread\']}} onSubmit={submitValues} onSubmitSuccess={clearValues}>\n      <div style={{ display: \'flex\', flexWrap: \'wrap\' }}>\n        <div style={{ flex: 1, marginRight: \'2rem\' }}>\n          <RenderCount name="Whole form">\n            <TextInput defaultValue="Bob" name="firstName" label="First Name" validate={requiredStr}/>\n            <TextInput name="middleName" label="Middle Name"/>\n            <TextInput name="lastName" label="Last Name" validate={requiredStr}/>\n            <Scope name="relationshipStatus">\n                Are You Single?\n                <RadioButton selected value="SINGLE" label="Yes"/>\n                <RadioButton value="NOT-SINGLE" label="No"/>\n              </Scope>\n              <PartnerName label="Partner Name"/>          \n            <FieldArray name="shoppingList" component={RenderShoppingList}/>\n            <Button/>\n          </RenderCount>\n        </div>\n        <div style={{flex: 2, flexDirection: \'column\', display: \'flex\', minWidth: \'300px\'}}>\n          <TheFormState/> \n        </div>\n      </div>\n    </Form>\n  );\n};\n\nfunction submitValues(values) {\n  window.alert(`You submitted:${JSON.stringify(values, null, 2)}`)\n}\n\nfunction clearValues(form) {\n  form.updateFields({});\n}\n\nexport default MyForm;\n```\n',function(){return _ref9})},270:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5),react=__webpack_require__(0),react_default=__webpack_require__.n(react),rest_api_crud_form=__webpack_require__(119),custom_ui_components=__webpack_require__(2),src=__webpack_require__(1),_ref2=react_default.a.createElement(rest_api_crud_form.a,{name:"users",resourceUrl:"https://jsonplaceholder.typicode.com/users",inputComponent:function(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,index=_ref.index;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(custom_ui_components.b,{disabled:!0,name:"id",id:"id".concat(index),label:"id"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"name",id:"name".concat(index),required:!0,label:"Name"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"username",id:"username".concat(index),required:!0,label:"Username"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"email",id:"email".concat(index),required:!0,label:"Email"}),react_default.a.createElement(src.h,{name:"address"},react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"street",id:"street".concat(index),required:!0,label:"Street"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"suite",id:"suite".concat(index),required:!0,label:"Suite"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"city",id:"city".concat(index),required:!0,label:"City"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"zipcode",id:"zipcode".concat(index),required:!0,label:"ZipCode"}),react_default.a.createElement(src.h,{name:"geo"},react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"lat",id:"lat".concat(index),required:!0,label:"Latitude"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"lng",id:"lng".concat(index),required:!0,label:"Longitude"}))),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"phone",id:"phone".concat(index),required:!0,label:"Phone"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"website",id:"website".concat(index),required:!0,label:"Website"}),react_default.a.createElement(src.h,{name:"company"},react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"name",id:"name".concat(index),required:!0,label:"Name"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"catchPhrase",id:"catchPhrase".concat(index),required:!0,label:"Catch Phrase"}),react_default.a.createElement(custom_ui_components.f,{disabled:disabled,name:"bs",id:"bs".concat(index),required:!0,label:"Bs"})))}}),MyForm=function(){return _ref2};MyForm.displayName="MyForm";__webpack_exports__.a=Object(storybook_readme.withDocs)('# Row Editor2\nThis form populates a series of rows with data fetched from https://jsonplaceholder.typicode.com/users.\n\nIt uses the same [data-components](https://github.com/chrisfield/react-form-composer/tree/master/stories/data-components) as the last example.\n\n---\n#### Code\n```jsx\nimport React from \'react\';\nimport RestApiCrudForm from \'../../data-components/rest-api-crud-form\';\nimport {TextInput, NumberInput} from \'../../custom-ui-components\';\nimport { Scope } from \'react-form-composer\';\n\nconst User = ({disabled=false, index}) => {\n  return (\n    <>\n      <NumberInput\n        disabled={true}\n        name="id"\n        id={`id${index}`}\n        label="id"\n      />\n      <TextInput\n        disabled={disabled}\n        name="name"\n        id={`name${index}`}\n        required\n        label="Name"\n      />\n      <TextInput\n        disabled={disabled}\n        name="username"\n        id={`username${index}`}\n        required\n        label="Username"\n      />\n      <TextInput\n        disabled={disabled}\n        name="email"\n        id={`email${index}`}\n        required\n        label="Email"\n      />\n      <Scope name ="address">\n        <TextInput\n          disabled={disabled}\n          name="street"\n          id={`street${index}`}\n          required\n          label="Street"\n        />\n        <TextInput\n          disabled={disabled}\n          name="suite"\n          id={`suite${index}`}\n          required\n          label="Suite"\n        />\n        <TextInput\n          disabled={disabled}\n          name="city"\n          id={`city${index}`}\n          required\n          label="City"\n        />\n        <TextInput\n          disabled={disabled}\n          name="zipcode"\n          id={`zipcode${index}`}\n          required\n          label="ZipCode"\n        />\n        <Scope name="geo">\n          <TextInput\n            disabled={disabled}\n            name="lat"\n            id={`lat${index}`}\n            required\n            label="Latitude"\n          />\n          <TextInput\n            disabled={disabled}\n            name="lng"\n            id={`lng${index}`}\n            required\n            label="Longitude"\n          />\n        </Scope>\n      </Scope>\n      <TextInput\n        disabled={disabled}\n        name="phone"\n        id={`phone${index}`}\n        required\n        label="Phone"\n      />\n      <TextInput\n        disabled={disabled}\n        name="website"\n        id={`website${index}`}\n        required\n        label="Website"\n      />\n      <Scope name="company">\n        <TextInput\n          disabled={disabled}\n          name="name"\n          id={`name${index}`}\n          required\n          label="Name"\n        />\n        <TextInput\n          disabled={disabled}\n          name="catchPhrase"\n          id={`catchPhrase${index}`}\n          required\n          label="Catch Phrase"\n        />\n        <TextInput\n          disabled={disabled}\n          name="bs"\n          id={`bs${index}`}\n          required\n          label="Bs"\n        />\n      </Scope>\n    </>\n  );\n}\n\nconst USERS_URL = \'https://jsonplaceholder.typicode.com/users\';\nconst MyForm = () => (\n  <RestApiCrudForm\n    name="users"\n    resourceUrl={USERS_URL}\n    inputComponent={User}\n  />\n);\n\nexport default MyForm;\n```\n---\n\n\x3c!-- STORY --\x3e\n',MyForm);MyForm.__docgenInfo={description:"",methods:[],displayName:"MyForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/introduction/row-editor2/index.js"]={name:"MyForm",docgenInfo:MyForm.__docgenInfo,path:"stories/introduction/row-editor2/index.js"})},271:function(module,__webpack_exports__,__webpack_require__){"use strict";var storybook_readme=__webpack_require__(5);__webpack_exports__.a=Object(storybook_readme.doc)('# Field\n\nThe Field component renders a UI component and connects it to the state.\n\nYou can see an example of a Field being included directly in a Form in the \'Getting Started\' section: <Field name="firstName" component="input"/>. \n\nYou can see how it can be used to define ui-components in the \'Example ui-components section\'.\n\n`Field` uses onChange, onBlur functions to maintain the value in state. It also renders a component passing in the value from state.\n\n| Property Name           | Required | Description                                                                                                                                                                                                                                                                                                                                                                                             |\n|-------------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| name                    |          | String. A name for the Field. Normally this will be required but if the Field is in a Scope the Field name could be ommitted and the Scope.name will be used insted (good for Radio-Buttons).                                                                                                                                                                                                                                                                                                                                                                     |\n| component               |          | String or Function for the component to render. Eg `component="input"` will render an input html element and component={Input} will call Input to render the component.                                                                                                                                                                                                                                 |\n| defaultValue            |          | js-base-data-type or plain object. Field will use this value in place of an undefined store value. |\n| validate                |          | Function or array of functions. Validation functions will be called with three parameters: First the stored field value; Second any spy values (for validating one field against another); Third a `fieldInterface` object. Validation functions should return undefined if the validation passes or an error if the validation fails. The error will often be a string but it can be any object. |\n| spy                     |          | String or function. Use this to access other parts of form state. The string or function determine what extra state to pass as a 2nd param to any `validate` function.                                                                                                                                                                                                                                                                                                                                                           |\n| formatToStore           |          | Function to convert the event.target.value to whatever semantic value makes sense to store.  Eg `format={str => str.toUpperCase}` will store the number as uppercase.                                                                                                                                                                                                                                   |\n| formatFromStore         |          | Function to format the value in the store to the value as rendered by the component. Eg: `formatFromStore={addCommas}`                                                                                                                                                                                                                                                                                  |\n| beforeUpdate            |          | Function that will return a custom value (any type) that you can then access after the field renders. The function will be passed the `fieldInterface`, value, nextValue as parameters. The value that your function returns will later be passed on to any afterUpdate function. A typical use for this function is to calculate and return the cursor-position before a field is formatted.           |\n| afterUpdate             |          | Function that will called after the field renders. Your function will be passed the `fieldInterface` and as a parameter. Typical uses for this function would be: to use a custom value eg to set the cursor-position or secondly to revalidate a second field when one field changes.                                                                                                                  |\n| getTargetValue          |          | Function to get the value. It will be called with the target and event as a parameters.                                                                                                                                                                                                                                                                                                                 |\n| ignoreTargetValueUnless |          | Function. Will be called onComponentMount with the elementRef as a parameter.  If it returns true the value of the element will be used to update the store. See it used on radio-buttons.                                                                                                                                              |\n| render                  |          | function. A render function that will be called with props                                                                                                                                                                                                                                                                                                                                              |\n| children                |          | Node or function. A function that will be called with props. Or normal JSX children                                                                                                                                                                                                                                                                                                                     |\n\n\nThe `fieldInterface` object (passed to beforeUpdate, afterUpdate and validate functions) includes any extra props passed to `Field` plus these standard props: \n* `name` of this field\n* `element` defined if you pass `ref={elementRef}` to the html element\n* `value`\n* `error`\n* `touched`\n* `customProps` any props set by the result returned from beforeUpdate\n* `validate: function` no params taken\n* `setTouched: function` pass a boolean value\n* `setValue: function` pass a value\n* `getField: function` pass the fieldName of another field to access its fieldApi\n* `getForm: function`: the formApi (see form Api/Form)\n\n`Field` will pass these props to the rendered component:\n* `handleChange` function to call onChange\n* `handleBlur` function to call onBlur\n* `value` value formatted from the store\n* `error` string or object. Will be undefined for a valid field \n* `touched` boolen\n* `elementRef` pass this an the ref prop\n\n---\n')},272:function(module,exports,__webpack_require__){__webpack_require__(273),__webpack_require__(375),module.exports=__webpack_require__(376)},376:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(24),__webpack_require__(25),__webpack_require__(15),__webpack_require__(26),__webpack_require__(29);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(52),storybook_readme__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5);__webpack_require__(596);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addDecorator)(storybook_readme__WEBPACK_IMPORTED_MODULE_6__.addReadme),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addParameters)({options:{name:"react-form-composer",url:"https://www.npmjs.com/package/react-form-composer",showPanel:!1,panelPosition:"right"}});var req=__webpack_require__(601);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(193)(module))},596:function(module,exports,__webpack_require__){var content=__webpack_require__(597);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(599)(content,options);content.locals&&(module.exports=content.locals)},597:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(598)(!1)).push([module.i,".row-items {\n  width: 100%; \n  display: flex;\n  border-width: 2px 0 0 2px;\n  border-color: green;\n  border-style: solid;\n  flex-wrap: wrap; \n  box-sizing: border-box;\n  justify-content: space-between;\n}\n\n.row-item {\n  border-width: 0 2px 2px 0;\n  border-color:green;\n  border-style: solid;\n  -webkit-flex-grow: 1;\n  -webkit-flex-basis: 1;\n  flex-grow: 1;\n  flex-basis: 1; \n}",""])},601:function(module,exports,__webpack_require__){var map={"./index.stories.js":602};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=601},602:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52),_introduction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(265),_introduction_writing_ui_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(266),_introduction_scopes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(264),_introduction_array_form__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(263),_introduction_validation__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(256),_introduction_async_submission__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(261),_introduction_dynamic_fields__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(260),_introduction_row_editor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(267),_introduction_row_editor2__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(270),_introduction_optimization__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(269),_api_form__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(268),_api_scope__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(259),_api_field__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(271),_api_spy_and_hooks__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(257),_more_info_faq__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(258),_more_info_form_render_props__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(262);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Introduction",module).add("A Simple Form",_introduction__WEBPACK_IMPORTED_MODULE_1__.a).add("Writing UI Components",_introduction_writing_ui_components__WEBPACK_IMPORTED_MODULE_2__.a).add("Adding Scopes",_introduction_scopes__WEBPACK_IMPORTED_MODULE_3__.a).add("Field Arrays",_introduction_array_form__WEBPACK_IMPORTED_MODULE_4__.a).add("Dynamic Fields",_introduction_dynamic_fields__WEBPACK_IMPORTED_MODULE_7__.a).add("Validation",_introduction_validation__WEBPACK_IMPORTED_MODULE_5__.a).add("Async Submission",_introduction_async_submission__WEBPACK_IMPORTED_MODULE_6__.a).add("Row Editor",_introduction_row_editor__WEBPACK_IMPORTED_MODULE_8__.a).add("Row Editor2",_introduction_row_editor2__WEBPACK_IMPORTED_MODULE_9__.a).add("Optimization",_introduction_optimization__WEBPACK_IMPORTED_MODULE_10__.a),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Api",module).add("Form",_api_form__WEBPACK_IMPORTED_MODULE_11__.a).add("Scope",_api_scope__WEBPACK_IMPORTED_MODULE_12__.a).add("Field",_api_field__WEBPACK_IMPORTED_MODULE_13__.a).add("Spy and Hooks",_api_spy_and_hooks__WEBPACK_IMPORTED_MODULE_14__.a),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("More Info",module).add("Form Render Props",_more_info_form_render_props__WEBPACK_IMPORTED_MODULE_16__.a).add("FAQs (changelog)",_more_info_faq__WEBPACK_IMPORTED_MODULE_15__.a)}.call(this,__webpack_require__(193)(module))}},[[272,1,2]]]);
//# sourceMappingURL=main.4329a6dba2b1a7d99aa1.bundle.js.map