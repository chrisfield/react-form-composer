!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("react-form-composer",["React"],t):"object"==typeof exports?exports["react-form-composer"]=t(require("react")):e["react-form-composer"]=t(e.React)}(this,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(t,r){t.exports=e},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",o=1/0,u="[object Function]",i="[object GeneratorFunction]",c="[object Symbol]",a=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,p="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,y=p||d||Function("return this")();var b,v=Array.prototype,m=Function.prototype,h=Object.prototype,O=y["__core-js_shared__"],_=(b=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",S=m.toString,E=h.hasOwnProperty,g=h.toString,j=RegExp("^"+S.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=y.Symbol,T=v.splice,w=V(y,"Map"),P=V(Object,"create"),F=R?R.prototype:void 0,I=F?F.toString:void 0;function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}function U(e){return!(!H(e)||(t=e,_&&_ in t))&&(function(e){var t=H(e)?g.call(e):"";return t==u||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?j:s).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function M(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function V(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return U(r)?r:void 0}D.prototype.clear=function(){this.__data__=P?P(null):{}},D.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},D.prototype.get=function(e){var t=this.__data__;if(P){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},D.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:E.call(t,e)},D.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?n:t,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(e){var t=this.__data__,r=L(t,e);return!(r<0||(r==t.length-1?t.pop():T.call(t,r,1),0))},A.prototype.get=function(e){var t=this.__data__,r=L(t,e);return r<0?void 0:t[r][1]},A.prototype.has=function(e){return L(this.__data__,e)>-1},A.prototype.set=function(e,t){var r=this.__data__,n=L(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new D,map:new(w||A),string:new D}},x.prototype.delete=function(e){return M(this,e).delete(e)},x.prototype.get=function(e){return M(this,e).get(e)},x.prototype.has=function(e){return M(this,e).has(e)},x.prototype.set=function(e,t){return M(this,e).set(e,t),this};var C=N(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Y(e))return I?I.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var r=[];return a.test(e)&&r.push(""),e.replace(f,function(e,t,n,o){r.push(n?o.replace(l,"$1"):t||e)}),r});function k(e){if("string"==typeof e||Y(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function N(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var i=e.apply(this,r);return n.cache=u.set(o,i),i};return n.cache=new(N.Cache||x),n}N.Cache=x;var B=Array.isArray;function H(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Y(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&g.call(e)==c}e.exports=function(e){return B(e)?function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,k):Y(e)?[e]:function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(C(e))}}).call(this,r(3))},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),u=r(2),i=r.n(u);function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}var f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(r,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:r.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(r,r.constructor),c(r)):(Object.defineProperty(r,"stack",{configurable:!0,enumerable:!1,value:new Error(e).stack,writable:!0}),r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a(Error)),t}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=s(this,p(t).call(this,"Submit Validation Failed"))).errors=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,f),t}(),b={DEREGISTER_FIELD:"DEREGISTER_FIELD",INIT_FORM_STATE:"INIT_FORM_STATE",PUSH_TO_FIELD_ARRAY:"PUSH_TO_FIELD_ARRAY",REMOVE_FROM_FIELD_ARRAY:"REMOVE_FROM_FIELD_ARRAY",SET_FIELD_ERROR:"SET_FIELD_ERROR",SET_FIELD_TOUCHED:"SET_FIELD_TOUCHED",START_SUBMIT:"START_SUBMIT",STOP_SUBMIT:"STOP_SUBMIT",UPDATE_FIELD:"UPDATE_FIELD",UPDATE_FIELDS:"UPDATE_FIELDS",RESET_FIELDS_IS_DONE:"RESET_FIELDS_IS_DONE"},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.formStatus,n=void 0===r?{}:r,o=t.fieldStatus,u=void 0===o?{}:o,i=t.fieldValues,c=void 0===i?{}:i,a=t.formErrors;return{type:b.INIT_FORM_STATE,form:e,formStatus:n,fieldStatus:u,fieldValues:c,formErrors:void 0===a?{}:a}},m=function(e,t){return{type:b.UPDATE_FIELD,value:e,customProps:t}},h=function(e){return{type:b.UPDATE_FIELDS,fieldValues:e}},O=function(e){return{type:b.SET_FIELD_TOUCHED,touched:e}},_=function(e){return{type:b.STOP_SUBMIT,formErrors:e}},S=Object(n.createContext)([]),E=S,g=r(1),j=r.n(g),R=function(e,t){var r=j()(t),n=r.length;if(n){for(var o=e,u=0;u<n&&o;++u)o=o[r[u]];return o}};function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function e(t,r,n,o){if(o>=n.length)return r;var u=n[o],i=e(t&&(Array.isArray(t)?t[Number(u)]:t[u]),r,n,o+1);if(!t){if(isNaN(u))return T({},u,i);var c=[];return c[parseInt(u,10)]=i,c}if(Array.isArray(t)){var a=t.slice();return a[parseInt(u,10)]=i,a}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){T(e,t,r[t])})}return e}({},t,T({},u,i))},P=function(e,t,r){return w(e,r,j()(t),0)},F={},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.INIT_FORM_STATE:return t.fieldValues||{};case b.UPDATE_FIELDS:return t.fieldValues;case b.UPDATE_FIELD:return P(e,t.field,t.value);case b.PUSH_TO_FIELD_ARRAY:var r=(R(e,t.fieldArray)||[]).slice();return r.push(t.payload),P(e,t.fieldArray,r);case b.REMOVE_FROM_FIELD_ARRAY:var n=(R(e,t.fieldArray)||[]).filter(function(e,r){return r!==t.index});return P(e,t.fieldArray,n);case b.SET_FIELD_ERROR:return P(e,t.field,t.value);default:return e}},D=function(e,t){var r=j()(t),n=r.length;if(!n)return!1;var o,u=e;for(o=0;o<n&&u;++o)u=u[r[o]];return o===n&&{value:u}},A={},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.INIT_FORM_STATE:return t.formErrors||{};case b.UPDATE_FIELDS:case b.START_SUBMIT:return{};case b.STOP_SUBMIT:return t.formErrors;case b.SET_FIELD_ERROR:return D(e,t.field)?P(e,t.field,void 0):e;default:return e}};function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){U(e,t,r[t])})}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={errorCount:0,isSubmitting:!1,isValid:!0},V={},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V,r=arguments.length>2?arguments[2]:void 0,n=e.errorCount;switch(r.type){case b.INIT_FORM_STATE:return{fieldStatus:L({},V,r.fieldStatus),formStatus:L({},M,r.formStatus)};case b.START_SUBMIT:return{fieldStatus:t,formStatus:L({},e,{isSubmitting:!0})};case b.STOP_SUBMIT:return{fieldStatus:t,formStatus:L({},e,{isSubmitting:!1})};case b.UPDATE_FIELD:var o=R(t,r.field)||{};return{fieldStatus:P(t,r.field,L({},o,{customProps:r.customProps})),formStatus:e};case b.RESET_FIELDS_IS_DONE:return{fieldStatus:t,formStatus:L({},e,{isResetFieldsDue:!1})};case b.UPDATE_FIELDS:return{fieldStatus:V,formStatus:L({},M,{isResetFieldsDue:!0})};case b.DEREGISTER_FIELD:var u=R(t,r.field)||{};return{fieldStatus:P(t,r.field,void 0),formStatus:L({},e,{errorCount:n-(u.error?1:0)})};case b.SET_FIELD_ERROR:var i=R(t,r.field)||{};return{fieldStatus:P(t,r.field,L({},i,{error:r.error})),formStatus:L({},e,{errorCount:n+(r.error?1:0)-(i.error?1:0)})};case b.SET_FIELD_TOUCHED:var c=R(t,r.field)||{};return{fieldStatus:P(t,r.field,{error:c.error,touched:r.touched}),formStatus:e};default:return{formStatus:e,fieldStatus:t}}};function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N={},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;if(t&&b[t.type]&&t.form){var r=e[t.form]||{},n=C(r.formStatus,r.fieldStatus,t),o=n.formStatus,u=n.fieldStatus;return o.isValid=0===o.errorCount,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){k(e,t,r[t])})}return e}({},e,k({},t.form,{fieldStatus:u,fieldValues:I(r.fieldValues,t),formErrors:x(r.formErrors,t),formStatus:o}))}return e};function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $=function(e){var t=Y(Object(n.useContext)(E),2),r=t[0],o=t[1];if(!o)throw"react-form-composer: useFormReducer has no context. Likely it has been called from a component not inside a <FormStateProvider>";return[r[e]?r[e]:B(N,v(e))[e],Object(n.useRef)(function(t){o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){H(e,t,r[t])})}return e}({},t,{form:e}))}).current]};function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){z(e,t,r[t])})}return e}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Q=Object(n.createContext)({}),W=function(e){var t=e.children,r=K(e,["children"]);return o.a.createElement(Q.Provider,{value:r},t)},X=(Q.Consumer,function(){return Object(n.useContext)(Q).formApi}),Z=function(){},ee=function(e){var t=e.formReducerRef,r=$(X().name);return t.current=r,null},te=function(e){var t=e.name,r=e.initialValues,u=e.onSubmit,c=void 0===u?Z:u,a=e.onSubmitSuccess,f=void 0===a?Z:a,l=e.children,s=e.render,p=e.component,d=void 0===p?"form":p,v=K(e,["name","initialValues","onSubmit","onSubmitSuccess","children","render","component"]),m=Object(n.useRef)([]),O=Object(n.useRef)([]),S=Object(n.useRef)([]),E=Object(n.useRef)(),g=J(Object(n.useState)(!r),2),j=g[0],R=g[1];Object(n.useEffect)(function(){var e=S.current[1];j?S.current[0].formStatus.isResetFieldsDue&&S.current[1]({type:b.RESET_FIELDS_IS_DONE}):(R(!0),e(h(r)))});var T=Object(n.useRef)({deregisterField:function(e){var t=m.current.indexOf(e);t>-1&&m.current.splice(t,1)},deregisterFieldArray:function(e){var t=O.current.indexOf(e);t>-1&&O.current.splice(t,1)},name:t,registerField:function(e){m.current.push(e)},registerFieldArray:function(e){O.current.push(e)},updateFields:function(e){S.current[1](h(e))},getField:function(e){var t=!0,r=!1,n=void 0;try{for(var o,u=m.current[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var i=o.value;if(i.name===e)return i.getInterface()}}catch(e){r=!0,n=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw n}}},formReducerRef:S}),w=function(){var e=!0,t=!1,r=void 0;try{for(var n,o=m.current[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var u=n.value.getInterface();if(u.error&&u.element){var i=u.element;i.focus&&i.focus(),i.scrollIntoView&&i.scrollIntoView();break}}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}},P=function(e){!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];m.current.forEach(function(t){t.setTouched(e)})}();var t=J(S.current,2),r=t[0],n=t[1];if(!r.formStatus.isValid)return e.preventDefault(),void w();if(c!==Z||!E.current){var o;e.preventDefault(),n({type:b.START_SUBMIT});try{o=c(r.fieldValues)}catch(e){if(n(_(e.errors)),e instanceof y)return void w();throw e}return i()(o)?o.then(function(){n(_()),f(T.current)},function(e){if(n(_(e.errors)),!(e instanceof y))throw e;w()}):(n(_()),void f(T.current))}E.current.submit()};return o.a.createElement(W,{formApi:T.current},o.a.createElement(ee,{formReducerRef:S}),j&&function(){if(s)return s(q({handleSubmit:P,elementRef:E},v));if("function"==typeof l)return l(q({handleSubmit:P,elementRef:E},v));if("string"==typeof d)return o.a.createElement(d,q({children:l,onSubmit:P,ref:E},v));var e=d;return o.a.createElement(e,G({},v,{children:l,onSubmit:P,elementRef:E}))}())},re=function(e){var t=e.initialState,r=void 0===t?N:t,u=e.children,i=Object(n.useReducer)(B,r);return o.a.createElement(S.Provider,{value:i},u)};function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ue={},ie=function(e){var t=X().name,r=oe($(t),2),o=r[0],u=r[1],i=R(o.fieldValues,e),c=R(o.fieldStatus,e)||ue,a=c.touched,f=c.customProps;return{value:i,touched:a,error:c.error?c.error:R(o.formErrors,e),dispatch:Object(n.useRef)(function(t){u(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ne(e,t,r[t])})}return e}({field:e},t))}).current,customProps:f,isResetFieldsDue:o.formStatus.isResetFieldsDue}};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){fe(e,t,r[t])})}return e}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function se(e,t){return"number"==typeof e&&isNaN(e)&&isNaN(t)}var pe=function(e){var t=e.render,r=e.children,n=e.component,u=le(e,["render","children","component"]);if(t)return t(u);if("function"==typeof r)return r(u);if("string"==typeof n){var i=u.handleBlur,c=u.handleChange,a=(u.touched,u.error,u.elementRef),f=le(u,["handleBlur","handleChange","touched","error","elementRef"]);return o.a.createElement(n,ae({onBlur:i,onChange:c,ref:a},f))}var l=n;return o.a.createElement(l,u)},de=function(e){var t=e.name,r=le(e,["name"]),n=ie(t);return o.a.createElement(ye,ce({name:t},r,n))},ye=Object(n.memo)(function(e){var t=e.name,r=e.afterUpdate,u=e.beforeUpdate,i=e.formatFromStore,c=e.formatToStore,a=e.getTargetValue,f=e.useTargetCondition,l=e.validate,s=e.dispatch,p=e.value,d=e.error,y=e.touched,v=e.customProps,h=e.isResetFieldsDue,_=le(e,["name","afterUpdate","beforeUpdate","formatFromStore","formatToStore","getTargetValue","useTargetCondition","validate","dispatch","value","error","touched","customProps","isResetFieldsDue"]),S=Object(n.useRef)(),E=Object(n.useRef)({name:t,error:d,setTouched:function(e){return s(O(e))},getInterface:function(){return j.current}}),g=X();Object(n.useEffect)(function(){return g.registerField(E.current),function(){s({type:b.DEREGISTER_FIELD}),g.deregisterField(E.current)}},[]);var j=Object(n.useRef)();Object(n.useEffect)(function(){j.current={name:t,getField:function(e){return g.getField(e)},element:S.current,validate:function(){w(p)},setTouched:E.current.setTouched,setValue:function(e){return s(m(e))},value:p,error:d,touched:y,customProps:v}});var R=Object(n.useRef)(!1),T=function(e){var t=Object(n.useRef)({});return Object(n.useEffect)(function(){t.current=e}),t.current}({value:p,customProps:v});Object(n.useEffect)(function(){if(R.current)(h||p!==T.value&&!se(p,T.value))&&w(p),(p!==T.value&&!se(p,T.value)||v!==T.customProps)&&r(j.current,v);else if(R.current=!0,S.current){if(!f||f(S.current)){var e=c(a(S.current));w(e)}}else w(p)});var w=function(e){var t;if(l){var r=g.formReducerRef.current[0].fieldValues;if(Array.isArray(l))for(var n=0;n<l.length&&!t;n++)t=l[n](e,r,ae({},j.current,_));else t=l(e,r,ae({},j.current,_))}s(function(e,t){return{type:b.SET_FIELD_ERROR,error:e,value:t}}(t,e))};return o.a.createElement(pe,ce({elementRef:S,handleChange:function(e){var t=c(a(e.target,e)),r=u(j.current,i(p),i(t));s(m(t,r))},handleBlur:function(e){y||(d&&e.preventDefault(),s(O(!0)))},name:t,value:i(p),touched:y,error:d},_))}),be=function(){};de.defaultProps={afterUpdate:be,beforeUpdate:be,formatFromStore:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},formatToStore:function(e){return e},getTargetValue:function(e,t){return e?e.value:t}};var ve=de;function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Oe=function(e){var t=X().name,r=he($(t),2),n=r[0],o=r[1];return{fields:R(n.fieldValues,e),dispatch:function(t){o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){me(e,t,r[t])})}return e}({fieldArray:e},t))}}};function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ee=function(e){var t={map:function(t){return(e.fields||[]).map(function(r,n){return t("".concat(e.name,"[").concat(n,"]"),n)})},name:e.name,push:e.push,remove:e.remove},r=e.component,n=Se(e,["component"]);return r?o.a.createElement(r,_e({},n,{fields:t})):null},ge=Object(n.memo)(function(e){var t=e.name,r=e.dispatch,u=e.fields,i=(e.status,e.formState,Se(e,["name","dispatch","fields","status","formState"])),c=Object(n.useRef)({name:t});Object(n.useEffect)(function(){c.current.fields=u});var a=X();Object(n.useEffect)(function(){return a.registerFieldArray(c.current),function(){a.deregisterFieldArray(c.current)}},[]);return o.a.createElement(Ee,_e({fields:u,name:t,push:function(){var e;r({type:b.PUSH_TO_FIELD_ARRAY,payload:e})},remove:function(e){r(function(e){return{type:b.REMOVE_FROM_FIELD_ARRAY,index:e}}(e))}},i))},function(e,t){return e.fields===t.fields}),je=function(e){var t=e.name,r=Se(e,["name"]),n=Oe(t);return o.a.createElement(ge,_e({name:t},r,n))};function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"useForm",function(){return Te}),r.d(t,"updateFieldAction",function(){return we}),r.d(t,"Form",function(){return te}),r.d(t,"initFormStateAction",function(){return v}),r.d(t,"updateFieldsAction",function(){return h}),r.d(t,"FormStateContext",function(){return E}),r.d(t,"FormStateProvider",function(){return re}),r.d(t,"formReducer",function(){return B}),r.d(t,"Field",function(){return ve}),r.d(t,"FieldArray",function(){return je}),r.d(t,"SubmissionError",function(){return y}),r.d(t,"useFormReducer",function(){return $}),r.d(t,"useField",function(){return ie}),r.d(t,"useFieldArray",function(){return Oe});var Te=function(){return{name:X().name}},we=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Re(e,t,r[t])})}return e}({field:e},m(t))}}])});